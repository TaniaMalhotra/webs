<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>SVG &#8211; CSS-Tricks</title>
	<atom:link href="https://css-tricks.com/tag/svg/feed/" rel="self" type="application/rss+xml" />
	<link>https://css-tricks.com</link>
	<description>Tips, Tricks, and Techniques on using Cascading Style Sheets.</description>
	<lastBuildDate>Sun, 03 May 2020 13:45:28 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.4.2</generator>
<site xmlns="com-wordpress:feed-additions:1">45537868</site>	<item>
		<title>Creating a Gauge in React</title>
		<link>https://wattenberger.com/blog/gauge</link>
		
		<dc:creator><![CDATA[Chris Coyier]]></dc:creator>
		<pubDate>Sun, 03 May 2020 13:45:27 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[data visualization]]></category>
		<category><![CDATA[graph]]></category>
		<category><![CDATA[react]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=308118</guid>

					<description><![CDATA[<p>You should really look at everything Amelia does, but I get extra excited about her interactive blog posts. Her latest about creating a gauge with <a href="https://wattenberger.com/blog/gauge">SVG in React</a> is unreal. Just the stuff about understanding <code>viewBox</code> is amazing and that&#8217;s like 10% of it. </p>
<p>Don&#8217;t miss her earlier posts like the one on <a href="https://wattenberger.com/blog/css-cascade">CSS Cascade</a> or <a href="https://wattenberger.com/blog/react-hooks">React Hooks</a> either. </p>
<p><a href="https://wattenberger.com/blog/gauge" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/creating-a-gauge-in-react/">Permalink</a>&#8230; <a href="https://css-tricks.com/creating-a-gauge-in-react/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Creating a Gauge in React&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-gauge-in-react/">Creating a Gauge in React</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>You should really look at everything Amelia does, but I get extra excited about her interactive blog posts. Her latest about creating a gauge with <a href="https://wattenberger.com/blog/gauge">SVG in React</a> is unreal. Just the stuff about understanding <code>viewBox</code> is amazing and that&#8217;s like 10% of it. </p>



<p>Don&#8217;t miss her earlier posts like the one on <a href="https://wattenberger.com/blog/css-cascade">CSS Cascade</a> or <a href="https://wattenberger.com/blog/react-hooks">React Hooks</a> either. </p>
<p><a href="https://wattenberger.com/blog/gauge" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/creating-a-gauge-in-react/">Permalink</a></p><p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-gauge-in-react/">Creating a Gauge in React</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">308118</post-id>	</item>
		<item>
		<title>SVG, Favicons, and All the Fun Things We Can Do With Them</title>
		<link>https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/</link>
					<comments>https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/#comments</comments>
		
		<dc:creator><![CDATA[Eric Bailey]]></dc:creator>
		<pubDate>Fri, 24 Apr 2020 14:58:29 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[dark mode]]></category>
		<category><![CDATA[favicon]]></category>
		<category><![CDATA[media queries]]></category>
		<category><![CDATA[SVG]]></category>
		<category><![CDATA[svg icons]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=306644</guid>

					<description><![CDATA[<p>Favicons are the little icons you see in your browser tab. They help you understand which site is which when you’re scanning through your browser’s bookmarks and open tabs. They’re a neat part of internet history that are capable of <a href="https://css-tricks.com/different-favicon-for-development/">performing some cool tricks</a>.</p>
<p>One very new trick is the ability to use SVG as a favicon. It’s something that <a href="https://caniuse.com/#feat=link-icon-svg">most modern browsers support</a>, with more support on the way.</p>
<p>Here’s the code for how to add favicons &#8230; <a href="https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/" class="read-more">Read article <span class="screen-reader-text"> &#8220;SVG, Favicons, and All the Fun Things We Can Do With Them&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/">SVG, Favicons, and All the Fun Things We Can Do With Them</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Favicons are the little icons you see in your browser tab. They help you understand which site is which when you’re scanning through your browser’s bookmarks and open tabs. They’re a neat part of internet history that are capable of <a href="https://css-tricks.com/different-favicon-for-development/">performing some cool tricks</a>.</p>



<p>One very new trick is the ability to use SVG as a favicon. It’s something that <a href="https://caniuse.com/#feat=link-icon-svg">most modern browsers support</a>, with more support on the way.</p>



<span id="more-306644"></span>



<p>Here’s the code for how to add favicons to your site:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;link rel="icon" type="image/svg+xml" href="/favicon.svg">
&lt;link rel="alternate icon" href="/favicon.ico">
&lt;link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff8a01"></code></pre>



<p>If a browser doesn’t support a SVG favicon, it will ignore the first link element declaration and continue on to the second. This ensures that all browsers that support favicons can enjoy the experience.&nbsp;</p>



<p>You may also notice the alternate attribute value for <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel">our <code>rel</code> declaration</a> in the second line. This programmatically communicates to the browser that the favicon with a file format that uses <code>.ico</code> is specifically used as an alternate presentation.</p>



<p>Following the favicons is a line of code that loads another SVG image, one called <code>safari-pinned-tab.svg</code>. This is to support <a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/pinnedTabs/pinnedTabs.html">Safari’s pinned tab functionality</a>, which existed before other browsers had SVG favicon support. There’s additional files you can add here to enhance your site for different apps and services, but more on that in a bit.</p>



<p>Here’s more detail on the current level of SVG favicon support:</p>


<div class="caniuse"><div class="caniuse-header"><p>This browser support data is from <a href="http://caniuse.com/#feat=”link-icon-svg”">Caniuse</a>, which has more detail. A number indicates that browser supports the feature at that version and up.</p></div><div class="caniuse-section"><h4>Desktop</h4><table class="browser-support-table"><thead><tr><th class="chrome"><span>Chrome</span></th><th class="firefox"><span>Firefox</span></th><th class="ie"><span>IE</span></th><th class="edge"><span>Edge</span></th><th class="safari"><span>Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Chrome - "><span class="caniuse-agents-version version">80</span></td><td class="y yep" title="Firefox - "><span class="caniuse-agents-version version">41</span></td><td class="n nope" title="IE - "><span class="caniuse-agents-version version">No</span></td><td class="y yep" title="Edge - "><span class="caniuse-agents-version version">80</span></td><td class="a yep-nope yep-nope-partial" title="Safari - "><span class="caniuse-agents-version version">TP</span></td></tr></table></div><div class="caniuse-section"><h4>Mobile / Tablet</h4><table class="browser-support-table"><thead><tr><th class="and_chr"><span>Android Chrome</span></th><th class="and_ff"><span>Android Firefox</span></th><th class="android"><span>Android</span></th><th class="ios_saf"><span>iOS Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Android Chrome - "><span class="caniuse-agents-version version">81</span></td><td class="n nope" title="Android Firefox - "><span class="caniuse-agents-version version">No</span></td><td class="n nope" title="Android - "><span class="caniuse-agents-version version">No</span></td><td class="a yep-nope yep-nope-partial" title="iOS Safari - "><span class="caniuse-agents-version version">13.4-13.5</span></td></tr></table></div></div>



<h3>Why SVG?</h3>



<p>You may be questioning why this is needed. The <code>.ico</code> file format has been around forever and can support images up to 256×256 pixels in size. Here are three answers for you.</p>



<h4>Ease of authoring</h4>



<p>It’s a pain to make <code>.ico</code> files. The file is a <a href="https://en.m.wikipedia.org/wiki/ICO_(file_format)">proprietary format</a> used by Microsoft, meaning you’ll need <a href="https://www.kodlian.com/apps/icon-slate">specialized tools</a> to make them. <a href="https://www.w3.org/TR/SVG2/">SVG is an open standard</a>, meaning you can use them without any further tooling or platform lock-in.</p>



<h4>Future-proofing</h4>



<p>Retina? 5k? 6k? When we use a resolution-agnostic SVG file for a favicon, we guarantee that our favicons look crisp on future devices, regardless of <a href="https://www.apple.com/pro-display-xdr/">how large their displays get</a>.&nbsp;</p>



<h4>Performance</h4>



<p>SVGs are usually very small files, especially when compared to their raster image counterparts — even more-so if you <a href="https://css-tricks.com/tools-for-optimizing-svg/">optimize them beforehand</a>. By only using a 16×16 pixel favicon as a fallback for browsers that don’t support SVG, we provide a combination that enjoys a high degree of support with a smaller file size to boot.&nbsp;</p>



<p>This might seem a bit extreme, but when it comes to web performance, every byte counts!</p>



<h3>Tricks</h3>



<p>Another cool thing about SVG is we can <a href="https://css-tricks.com/svg-properties-and-css/">embed CSS directly in it</a>. This means we can do fun things like dynamically adjust them with JavaScript, provided the SVG is declared inline and not embedded using an <code>img</code> element.</p>



<pre rel="SVG" class="wp-block-csstricks-code-block language-svg" data-line=""><code markup="tt">&lt;svg  version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  &lt;style>
    path { fill: #272019; }
  &lt;/style>
  &lt;!-- etc. -->
&lt;/svg></code></pre>



<p>Since SVG favicons are embedded using the <code>link</code> element, they can’t really be modified using JavaScript. We can, however, use things like emoji and media queries.</p>



<h4>Emoji</h4>



<p><a href="https://twitter.com/leaverou/">Lea Verou</a> had a genius idea about using emoji inside of <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text">SVG’s <code>text</code> element</a> to make a quick favicon with a transparent background that holds up at small sizes.</p>



<figure class="wp-block-embed-twitter wp-block-embed is-type-rich is-provider-twitter"><div class="wp-block-embed__wrapper">
https://twitter.com/LeaVerou/status/1241619866475474946
</div></figure>



<p>In response, <a href="https://css-tricks.com/emojis-as-favicons/">Chris Coyier whipped up a neat little demo</a> that lets you play around with the concept.</p>



<h4>Dark Mode support</h4>



<p>Both <a href="https://blog.tomayac.com/2019/09/21/prefers-color-scheme-in-svg-favicons-for-dark-mode-icons/">Thomas Steiner</a> and <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=294179#c72">Mathias Bynens</a> independently stumbled across the idea that you can use the <code>prefers-color-scheme</code> media query to provide support for dark mode. This work is built off of <a href="https://jakearchibald.com/2016/svg-media-queries/">Jake Archibald’s exploration of SVG and media queries</a>.</p>



<pre rel="SVG" class="wp-block-csstricks-code-block language-svg" data-line="4-6"><code markup="tt">&lt;svg width="128" height="128" xmlns="http://www.w3.org/2000/svg">
  &lt;style>
    path { fill: #000000; }
    @media (prefers-color-scheme: dark) {
      path { fill: #ffffff; }
    }
  &lt;/style>
  &lt;path d="M111.904 52.937a1.95 1.95 0 00-1.555-1.314l-30.835-4.502-13.786-28.136c-.653-1.313-2.803-1.313-3.456 0L48.486 47.121l-30.835 4.502a1.95 1.95 0 00-1.555 1.314 1.952 1.952 0 00.48 1.99l22.33 21.894-5.28 30.918c-.115.715.173 1.45.768 1.894a1.904 1.904 0 002.016.135L64 95.178l27.59 14.59c.269.155.576.232.883.232a1.98 1.98 0 001.133-.367 1.974 1.974 0 00.768-1.894l-5.28-30.918 22.33-21.893c.518-.522.71-1.276.48-1.99z" fill-rule="nonzero"/>
&lt;/svg></code></pre>



<p>For supporting browsers, this code means our star-shaped SVG favicon will change its fill color from black to white when <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">dark mode</a> is activated. Pretty neat!</p>



<figure class="wp-block-video"><video controls src="https://css-tricks.com/wp-content/uploads/2020/04/dark-mode-favicon-switch.mov"></video></figure>



<h4>Other media queries</h4>



<p>Dark mode support got me thinking: if SVGs can support <code>prefers-color-scheme</code>, what other things can we do with them? While the support for <a href="https://www.w3.org/TR/mediaqueries-5/">Level 5 Media Queries</a> may not be there yet, here’s some ideas to consider:</p>



<ul><li>Use <a href="https://www.w3.org/TR/mediaqueries-5/#light-level"><code>light-level</code></a> to desaturate favicon colors in a low-light environment.</li><li>Use <a href="https://www.w3.org/TR/mediaqueries-5/#inverted"><code>inverted-colors</code></a> to “flip” inverted colors to preserve branding, or to ensure a photorealistic favicon looks as intended.</li><li>Use <a href="https://www.w3.org/TR/mediaqueries-5/#prefers-reduced-motion"><code>prefers-reduced-motion</code></a> to remove <a href="https://css-tricks.com/the-making-of-an-animated-favicon/">favicon animation</a>. Ideally, we&#8217;d <a href="https://css-tricks.com/revisiting-prefers-reduced-motion-the-reduced-motion-media-query/">avoid animating favicons in the first place</a>, as they can be a trigger for ADHD and other related disabilities.</li><li>Use <a href="https://www.w3.org/TR/mediaqueries-5/#forced-colors"><code>forced-colors</code></a> and/or a <a href="https://css-tricks.com/accessible-svgs-high-contrast-mode/">Windows High Contrast Mode media query</a> to make sure the favicon holds up visually in a high contrast color context. Remember to <a href="https://www.gwhitworth.com/blog/2017/04/how-to-use-ms-high-contrast/">use color keywords</a> to keep the favicon’s colors dynamic!</li></ul>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?fit=1024%2C427&amp;ssl=1" alt="Mockup of four SVG favicon treatments. The first treatment is a pink star with a tab title of, “SVG Favicon.” The second treatment is a hot pink star with a tab title of, “Light Level SVG Favicon.” The third treatment is a light pink star with a tab title of, “Inverted Colors SVG Favicon.” The fourth treatment is a black pink star with a tab title of, “High Contrast Mode SVG Favicon.” The tabs are screen captures from Microsoft Edge, with the browser chrome updating to match each specialized mode." class="wp-image-306647" srcset="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?w=1608&amp;ssl=1 1608w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?resize=300%2C125&amp;ssl=1 300w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?resize=1024%2C427&amp;ssl=1 1024w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?resize=768%2C320&amp;ssl=1 768w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?resize=1536%2C640&amp;ssl=1 1536w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/EeH-tuAJ.png?resize=1000%2C417&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>A mockup of how these media query-based adjustments could work.</figcaption></figure>



<h3>Keep it crisp</h3>



<p>Another important aspect of good favicon design is making sure they look good in the small browser tab area. The secret to this is making the paths of the vector image <a href="https://icons8.com/articles/make-pixel-perfect-icons/">line up to the pixel grid</a>, the guide a computer uses to turn SVG math into the bitmap we see on a screen.&nbsp;</p>



<p>Here’s a simplified example using a square shape:</p>



<figure class="wp-block-image size-large"><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/04/1BTkjpFp.png?ssl=1" alt="A crisp orange square on a white background. There is also a faint grid of gray horizontal and vertical lines that represent the pixel grid. Screenshot from Figma." class="wp-image-306649" srcset="https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/04/1BTkjpFp.png?w=895&amp;ssl=1 895w, https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/04/1BTkjpFp.png?resize=300%2C257&amp;ssl=1 300w, https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/04/1BTkjpFp.png?resize=768%2C658&amp;ssl=1 768w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></figure>



<p>When the vector points of the square align to the pixel grid of the artboard, the antialiasing effect a computer uses to smooth out the shapes isn&#8217;t needed. When the vector points aren’t aligned, we get a “smearing” effect:</p>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/YIpL6HtQ.png?ssl=1" alt="A blurred orange square on a white background. There is also a faint grid of gray horizontal and vertical lines that represent the pixel grid. Screenshot from Figma." class="wp-image-306650" srcset="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/YIpL6HtQ.png?w=895&amp;ssl=1 895w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/YIpL6HtQ.png?resize=300%2C257&amp;ssl=1 300w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/YIpL6HtQ.png?resize=768%2C658&amp;ssl=1 768w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></figure>



<p>A vector point’s position can be adjusted on the pixel grid by using a vector editing program such as <a href="https://www.figma.com/">Figma</a>, <a href="https://www.sketch.com/">Sketch</a>, <a href="https://inkscape.org/">Inkscape</a>, or <a href="https://www.adobe.com/products/illustrator.html">Illustrator</a>. These programs export SVGs as well. To adjust a vector point’s location, select each node with a precision selection tool and drag it into position.</p>



<figure class="wp-block-video"><video controls src="https://css-tricks.com/wp-content/uploads/2020/04/vector-cleanup.mov"></video></figure>



<p>Some more complicated icons may need to be simplified, in order to look good at such a small size. If you’re looking for a good primer on this, <a href="https://www.viget.com/articles/responsive-logos-part-1-tips-for-adapting-logos-for-small-screens/">Jeremy Frank wrote a really good two-part article over at Vidget</a>.</p>



<h3>Go the extra mile</h3>



<p>In addition to favicons, there are a bunch of different (and unfortunately proprietary) ways to use icons to enhance its experience. These include things like the aforementioned pinned tab icon for Safari<a href="#fn:1">¹</a>, <a href="https://medium.com/slack-developer-blog/everything-you-ever-wanted-to-know-about-unfurling-but-were-afraid-to-ask-or-how-to-make-your-e64b4bb9254">chat app unfurls</a>, a <a href="https://webdesign.tutsplus.com/tutorials/how-to-add-windows-tiles-to-your-website--cms-23099">pinned Windows start menu tile</a>, social media previews, and homescreen launchers.</p>



<p>If you’re looking for a great place to get started with these kinds of enhancements, I really like <a href="https://realfavicongenerator.net/">realfavicongenerator.net</a>.</p>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/vzCkODbQ.png?ssl=1" alt="Icon output from realfavicongenerator.net arranged in a grid using CSS-Trick’s logo. There are two rows of five icons: android-chrome-192x192.png, android-chrome-384x384.png, apple-touch-icon.png, favicon-16x16.png, favicon-32x32.png, mstile-150x150.png, safari-pinned-tab.svg, favicon.ico, browserconfig.xml, and site.webmanifest." class="wp-image-306652" srcset="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/vzCkODbQ.png?w=715&amp;ssl=1 715w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/vzCkODbQ.png?resize=300%2C119&amp;ssl=1 300w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /><figcaption>It’s a lot, but it guarantees robust support.</figcaption></figure>



<p>A funny thing about the history of the favicon: Internet Explorer was the first browser to support them and <a href="https://thehistoryoftheweb.com/how-we-got-the-favicon/">they were snuck in at the 11th hour</a> by a developer named Bharat Shyam:</p>



<blockquote class="wp-block-quote"><p>As the story goes, late one night, Shyam was working on his new favicon feature. He called over junior project manager Ray Sun to take a look.</p><p>Shyam commented, “This is good, right? Check it in?”, requesting permission to check the code into the Internet Explorer codebase so it could be released in the next version. Sun didn’t think too much of it, the feature was cool and would clearly give IE an edge. So he told Shyam to go ahead and add it. And just like that, the favicon made its way into Internet Explorer 5, which would go on to become one of the largest browser releases the web has ever seen.</p><p>The next day, Sun was reprimanded by his manager for letting the feature get by so quickly. As it turns out, Shyam had specifically waited until later in the day, knowing that a less experienced Program Manager would give him a pass. But by then, the code had been merged in. Incidentally, you’d be surprised just how many relatively major browser features have snuck their way into releases like this.</p><cite>From <a href="https://thehistoryoftheweb.com/how-we-got-the-favicon/">How We Got the Favicon</a> by <a href="https://twitter.com/jay_hoffmann">Jay Hoffmann</a></cite></blockquote>



<p>I’m happy to see the platform throw a little love at favicons. They’ve long been one of my favorite little design details, and I’m excited that they’re becoming more reactive to user’s needs. If you have a moment, why not sneak a SVG favicon into your project the same way Bharat Shyam did way back in 1999.&nbsp;</p>



<hr class="wp-block-separator"/>



<div class="wp-block-group footnotes" id="fn:1"><div class="wp-block-group__inner-container">
<p><a href="#fn1">¹</a> I haven’t been able to determine if Safari is going to implement SVG favicon support, but I hope they do. Has anyone heard anything?</p>
</div></div>
<p>The post <a rel="nofollow" href="https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/">SVG, Favicons, and All the Fun Things We Can Do With Them</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/feed/</wfw:commentRss>
			<slash:comments>7</slash:comments>
		
		<enclosure url="https://css-tricks.com/wp-content/uploads/2020/04/dark-mode-favicon-switch.mov" length="889060" type="video/quicktime" />
<enclosure url="https://css-tricks.com/wp-content/uploads/2020/04/vector-cleanup.mov" length="6707087" type="video/quicktime" />

		<post-id xmlns="com-wordpress:feed-additions:1">306644</post-id>	</item>
		<item>
		<title>Fake Code</title>
		<link>https://css-tricks.com/fake-code/</link>
					<comments>https://css-tricks.com/fake-code/#respond</comments>
		
		<dc:creator><![CDATA[Chris Coyier]]></dc:creator>
		<pubDate>Tue, 21 Apr 2020 21:01:43 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[fake code]]></category>
		<category><![CDATA[gist]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=307020</guid>

					<description><![CDATA[<p>Here&#8217;s <a href="http://knutsynstad.com/fauxcode/">a fun little idea</a> from Knut Synstad. You give it the URL of a GitHub Gist and it converts the Gist into grayscale rounded blobs (SVG) that sorta look like code if you squint. Maybe fun for interesting dynamic backgrounds or for whatever you might use code-looking stock art for. </p>
<hr class="wp-block-separator"/>
<p>It reminded me of Christian Naths&#8217;s <a href="https://github.com/christiannaths/Redacted-Font">Redacted</a> font, which turns every glyph into a box or squiggles. </p>
<hr class="wp-block-separator"/>
<p>And if you need some actual totally fake code, Harry Parton&#8217;s Pen &#8230; <a href="https://css-tricks.com/fake-code/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Fake Code&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/fake-code/">Fake Code</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Here&#8217;s <a href="http://knutsynstad.com/fauxcode/">a fun little idea</a> from Knut Synstad. You give it the URL of a GitHub Gist and it converts the Gist into grayscale rounded blobs (SVG) that sorta look like code if you squint. Maybe fun for interesting dynamic backgrounds or for whatever you might use code-looking stock art for. </p>



<span id="more-307020"></span>



<figure class="wp-block-image size-large"><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?fit=1024%2C466&amp;ssl=1" alt="SVG blobs that look like code." class="wp-image-307021" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?w=1300&amp;ssl=1 1300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?resize=300%2C137&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?resize=1024%2C466&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?resize=768%2C350&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/04/Screen-Shot-2020-04-17-at-9.36.27-AM.png?resize=1000%2C455&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<hr class="wp-block-separator"/>



<p>It reminded me of Christian Naths&#8217;s <a href="https://github.com/christiannaths/Redacted-Font">Redacted</a> font, which turns every glyph into a box or squiggles. </p>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-1.png?ssl=1" alt="" class="wp-image-307023" srcset="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-1.png?w=852&amp;ssl=1 852w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-1.png?resize=300%2C158&amp;ssl=1 300w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-1.png?resize=768%2C406&amp;ssl=1 768w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></figure>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-2.png?ssl=1" alt="" class="wp-image-307024" srcset="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-2.png?w=852&amp;ssl=1 852w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-2.png?resize=300%2C182&amp;ssl=1 300w, https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/04/redacted-2.png?resize=768%2C465&amp;ssl=1 768w" sizes="(min-width: 735px) 864px, 96vw" data-recalc-dims="1" /></figure>



<hr class="wp-block-separator"/>



<p>And if you need some actual totally fake code, Harry Parton&#8217;s Pen is nice for that:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_idDGK" src="//codepen.io/anon/embed/idDGK?height=450&amp;theme-id=1&amp;slug-hash=idDGK&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed idDGK" title="CodePen Embed idDGK" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>
<p>The post <a rel="nofollow" href="https://css-tricks.com/fake-code/">Fake Code</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/fake-code/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">307020</post-id>	</item>
		<item>
		<title>Creating a Pencil Effect in SVG</title>
		<link>https://heredragonsabound.blogspot.com/2020/02/creating-pencil-effect-in-svg.html</link>
					<comments>https://css-tricks.com/creating-a-pencil-effect-in-svg/#comments</comments>
		
		<dc:creator><![CDATA[Chris Coyier]]></dc:creator>
		<pubDate>Sat, 28 Mar 2020 13:34:55 +0000</pubDate>
				<category><![CDATA[Link]]></category>
		<category><![CDATA[SVG]]></category>
		<category><![CDATA[svg filters]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=305867</guid>

					<description><![CDATA[<p>Scott Turner, who has an <a href="https://heredragonsabound.blogspot.com/">entire blog</a> &#8220;Exploring procedural generation and display of fantasy maps&#8221;, gets into why vector graphics seems on these surface why it would be bad for the look of a pencil stroke:</p>
<blockquote class="wp-block-quote">
<p>Something like this pencil stroke would require many tens of thousands of different elements.&#160; Basically each little blob of gray in that image would be separately defined.&#160;</p>
</blockquote>
<p>But, SVG filters <a href="https://heredragonsabound.blogspot.com/2020/02/creating-pencil-effect-in-svg.html">to the rescue</a>. </p>
<p>CodePen Embed Fallback</p>
<p>It&#8217;s all about <code>&#60;feTurbulence</code>. <a href="https://css-tricks.com/squigglevision-in-css-and-svg/">Squigglevision!</a> We&#8217;ve &#8230; <a href="https://css-tricks.com/creating-a-pencil-effect-in-svg/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Creating a Pencil Effect in SVG&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-pencil-effect-in-svg/">Creating a Pencil Effect in SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Scott Turner, who has an <a href="https://heredragonsabound.blogspot.com/">entire blog</a> &#8220;Exploring procedural generation and display of fantasy maps&#8221;, gets into why vector graphics seems on these surface why it would be bad for the look of a pencil stroke:</p>



<blockquote class="wp-block-quote"><p>Something like this pencil stroke would require many tens of thousands of different elements.&nbsp; Basically each little blob of gray in that image would be separately defined.&nbsp;</p></blockquote>



<p>But, SVG filters <a href="https://heredragonsabound.blogspot.com/2020/02/creating-pencil-effect-in-svg.html">to the rescue</a>. </p>



<span id="more-305867"></span>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_oNNQmRw" src="//codepen.io/anon/embed/oNNQmRw?height=450&amp;theme-id=1&amp;slug-hash=oNNQmRw&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed oNNQmRw" title="CodePen Embed oNNQmRw" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>It&#8217;s all about <code>&lt;feTurbulence></code>. <a href="https://css-tricks.com/squigglevision-in-css-and-svg/">Squigglevision!</a> We&#8217;ve covered <a href="https://css-tricks.com/tag/svg-filters/">SVG filters</a> quite a bit.</p>
<p><a href="https://heredragonsabound.blogspot.com/2020/02/creating-pencil-effect-in-svg.html" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/creating-a-pencil-effect-in-svg/">Permalink</a></p><p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-pencil-effect-in-svg/">Creating a Pencil Effect in SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/creating-a-pencil-effect-in-svg/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">305867</post-id>	</item>
		<item>
		<title>Emojis as Favicons</title>
		<link>https://css-tricks.com/emojis-as-favicons/</link>
					<comments>https://css-tricks.com/emojis-as-favicons/#comments</comments>
		
		<dc:creator><![CDATA[Chris Coyier]]></dc:creator>
		<pubDate>Tue, 24 Mar 2020 18:43:23 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[favicon]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=305613</guid>

					<description><![CDATA[<p>Lea Verou had <a href="https://twitter.com/LeaVerou/status/1241619866475474946">a dang genius idea</a> to use an emoji as a favicon. The idea only recently possible as browsers have started supporting SVG for favicons. Chuck an emoji inside an SVG <code>&#60;text&#62;</code> element and use that as the favicon. </p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">Now that all modern browsers support SVG favicons, here&#39;s how to turn any emoji into a favicon.svg:</p>
<p>&#60;svg xmlns=&#34;<a href="https://t.co/TJalgdayix">https://t.co/TJalgdayix</a>&#34; viewBox=&#34;0 0 100 100&#34;&#62;<br />&#60;text y=&#34;.9em&#34; font-size=&#34;90&#34;&#62;&#x1f4a9;&#60;/text&#62;<br />&#60;/svg&#62;</p>
<p>Useful for quick apps when you can&#39;t be bothered to </p>
</blockquote>
<p>&#8230; <a href="https://css-tricks.com/emojis-as-favicons/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Emojis as Favicons&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/emojis-as-favicons/">Emojis as Favicons</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Lea Verou had <a href="https://twitter.com/LeaVerou/status/1241619866475474946">a dang genius idea</a> to use an emoji as a favicon. The idea only recently possible as browsers have started supporting SVG for favicons. Chuck an emoji inside an SVG <code>&lt;text&gt;</code> element and use that as the favicon. </p>



<span id="more-305613"></span>



<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Now that all modern browsers support SVG favicons, here&#39;s how to turn any emoji into a favicon.svg:<br><br>&lt;svg xmlns=&quot;<a href="https://t.co/TJalgdayix">https://t.co/TJalgdayix</a>&quot; viewBox=&quot;0 0 100 100&quot;&gt;<br>&lt;text y=&quot;.9em&quot; font-size=&quot;90&quot;&gt;&#x1f4a9;&lt;/text&gt;<br>&lt;/svg&gt;<br><br>Useful for quick apps when you can&#39;t be bothered to design a favicon! <a href="https://t.co/S2F8IQXaZU">pic.twitter.com/S2F8IQXaZU</a></p>&mdash; Lea Verou (@LeaVerou) <a href="https://twitter.com/LeaVerou/status/1241619866475474946?ref_src=twsrc%5Etfw">March 22, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>



<p>Here&#8217;s the one-liner in use:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>&lt;text y=%22.9em%22 font-size=%2290%22>&#x1f3af;&lt;/text>&lt;/svg>"></code></pre>



<h3>Demo Project</h3>



<p>I made <a href="https://codepen.io/chriscoyier/project/editor/ZeWQWJ">a quick little demo project</a> so you can see it at work. See <a href="https://000458870.codepen.website/">the deployed project</a> to actually see the favicons. That works in Firefox and Chrome. Safari only does those &#8220;mask&#8221; style icons in SVG so this doesn&#8217;t work there. Maybe it could though? I dunno I&#8217;ll let you try it.</p>



<p>Here&#8217;s a video in case you just wanna see it.</p>



<figure class="wp-block-video"><video controls src="https://res.cloudinary.com/css-tricks/video/upload/f_auto,q_auto,vc_auto/v1585074956/emojis_bxshdw.mp4"></video></figure>



<h3>Related Concepts</h3>



<ul><li>Ada Rose Cannon <a href="https://glitch.com/edit/#!/favicon-badge?path=script.js:1:14">added a badge</a> that can increment.</li><li>Taylor Hunt dropped some code on how he uses the <a href="https://gist.github.com/tigt/86b25ce970e46370dd61339380e2d6bd">current Git branch name</a> to create an SVG favicon (related to the <a href="https://css-tricks.com/different-favicon-for-development/">&#8220;different favicon for development&#8221;</a> idea)  </li><li>You could duck a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme"><code>prefers-color-scheme</code> media query</a> in the SVG if you wanted to do something special for dark mode (although emojis generally work well on any background)</li></ul>
<p>The post <a rel="nofollow" href="https://css-tricks.com/emojis-as-favicons/">Emojis as Favicons</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/emojis-as-favicons/feed/</wfw:commentRss>
			<slash:comments>6</slash:comments>
		
		<enclosure url="https://res.cloudinary.com/css-tricks/video/upload/f_auto,q_auto,vc_auto/v1585074956/emojis_bxshdw.mp4" length="107601" type="video/mp4" />

		<post-id xmlns="com-wordpress:feed-additions:1">305613</post-id>	</item>
		<item>
		<title>Tools for Optimizing SVG</title>
		<link>https://css-tricks.com/tools-for-optimizing-svg/</link>
					<comments>https://css-tricks.com/tools-for-optimizing-svg/#comments</comments>
		
		<dc:creator><![CDATA[Chris Coyier]]></dc:creator>
		<pubDate>Tue, 17 Mar 2020 19:32:00 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=303798</guid>

					<description><![CDATA[<p>This is our straight-to-the-point list of SVG optimizing tools across a number of categories. They are all largely based around SVGO, but how you use it depends. There are web apps, desktop apps, apis, and even design tool add-ons.</p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/tools-for-optimizing-svg/">Tools for Optimizing SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<div class="wp-block-group svg-group svg-group-1 svg-group-double"><div class="wp-block-group__inner-container">
<div class="wp-block-group"><div class="wp-block-group__inner-container">
<h3>Command Line Tools</h3>



<ul><li><a href="https://github.com/svg/svgo">SVGO</a> (Seems like the biggest player)</li><li><a href="https://github.com/scour-project/scour">Scour</a></li><li><a href="https://github.com/RazrFalcon/svgcleaner">svgcleaner</a></li></ul>



<p>Unfortunately, none<a href="#fn:1">¹</a> of them are maintained anymore. You also don&#8217;t need to use just one<a href="#fn:1">²</a>.</p>
</div></div>



<div class="wp-block-group svg-sub-group-side"><div class="wp-block-group__inner-container">
<h4>SVGO with a Task Runner</h4>



<ul><li><a href="https://github.com/sindresorhus/grunt-svgmin">grunt-svgmin</a></li><li><a href="https://github.com/ben-eb/gulp-svgmin">gulp-svgmin</a></li><li><a href="https://github.com/corneliusio/gulp-svgo">gulp-svgo</a></li><li><a href="https://github.com/rpominov/svgo-loader">svgo-loader</a> (webpack)</li></ul>
</div></div>
</div></div>



<div class="wp-block-group svg-group-double"><div class="wp-block-group__inner-container">
<div class="wp-block-group svg-group svg-group-2"><div class="wp-block-group__inner-container">
<h3>Desktop Apps</h3>



<ul><li><a href="https://imageoptim.com/mac">ImageOptim</a> (macOS)</li><li>macOS <a href="https://github.com/svg/svgo-osx-folder-action">&#8220;folder action&#8221;</a> </li><li>Before macOS 10.15 Catalina, you could use <a href="https://github.com/svg/svgo-gui">SVGO GUI</a>, but it&#8217;s 32-bit which makes it obsolete.</li></ul>



<p>There are generic app for optimizing images on Windows and Linux, but I haven&#8217;t yet confirmed any of them do SVG.</p>
</div></div>



<div class="wp-block-group svg-group svg-group-3"><div class="wp-block-group__inner-container">
<h3>Web Apps</h3>



<p>The idea with these tools is that you have an SVG on your machine and you upload it to this web app to optimize this one SVG.  </p>



<ul><li><a href="https://jakearchibald.github.io/svgomg/">SVGOMG</a></li><li><a href="https://vecta.io/nano">Nano</a></li><li><a href="https://kraken.io/web-interface">Kraken</a></li><li><a href="https://www.svgminify.com/">SVG Minifier</a></li><li><a href="http://petercollingridge.appspot.com/svg-optimiser">SVG optimiser</a></li><li><a href="https://petercollingridge.appspot.com/svg-editor">svg-editor</a></li></ul>
</div></div>
</div></div>



<div class="wp-block-group svg-group svg-group-4"><div class="wp-block-group__inner-container">
<h3>APIs</h3>



<ul><li><a href="https://imageoptim.com/api">ImageOptim Web Service API</a></li><li><a href="https://kraken.io/">Kraken</a></li><li>Imgix supports SVG <a href="https://blog.imgix.com/2019/08/13/announcing-support-for-webp-and-svg">if you opt-in</a>. </li><li>It&#8217;s not entirely clear if Cloudinary actually <em>optimizes</em> SVG, and their API is uploading-focused, but they do support &#8220;transformations&#8221; on SVG, and their <a href="https://cloudinary.com/documentation/fetch_remote_images">fetch URL format</a> is API-like.</li></ul>
</div></div>



<div class="wp-block-group svg-group svg-group-5"><div class="wp-block-group__inner-container">
<h3>Optimizing Directly Out of Design Tools</h3>



<p>Typically, when you export SVG out of a design tool it is in dire <a href="https://css-tricks.com/one-illustration-three-svg-outputs/">need of optimization.</a> Hence, all the tools in this article. The design tool itself can help though, at least somewhat.</p>



<ul><li>Sketch&#8217;s <a href="https://github.com/sketch-hq/svgo-compressor">svgo-compressor</a> (there is also a Sketch-specific web app for this called <a href="https://sketchmaster.com/svg-optimizer">SVGito</a>)</li><li>Figma <a href="https://www.figma.com/blog/with-figmas-new-svg-exports-less-more/">does its best</a> by default</li><li>Illustrator has <a href="https://github.com/davidderaedt/SVG-NOW">SVG NOW</a></li><li>Inkscape can export as &#8220;Optimized SVG&#8221; (uses Scour internally) or use <a href="https://github.com/juanfran/svgo-inkscape">SVGO-Inkscape</a></li></ul>
</div></div>



<div class="wp-block-group svg-group-double"><div class="wp-block-group__inner-container">
<div class="wp-block-group svg-group svg-group-6"><div class="wp-block-group__inner-container">
<h3>Deep Dive Articles</h3>



<ul><li>Michelle Barker: <a href="https://css-irl.info/optimising-svgs-for-the-web/">Optimising SVGs for the Web</a></li><li>Jayden Seric: <a href="https://jaydenseric.com/blog/how-to-optimize-svg">How to optimize SVG</a></li><li>Sara Soueidan: <a href="https://www.sarasoueidan.com/blog/svg-tips-for-designers/">Tips for Creating and Exporting Better SVGs for the Web</a> &amp; <a href="https://www.sarasoueidan.com/blog/svgo-tools/">Useful SVGO[ptimization] Tools</a></li><li>Cosima Mielke: <a href="https://www.smashingmagazine.com/2016/04/tools-and-resources-for-editing-converting-and-optimizing-svgs/">Tools And Resources For Editing, Converting And Optimizing SVG</a></li><li>&nbsp;Jake Giltsoff: SVG on the Web, <a href="https://svgontheweb.com/#preparation">Preparing &amp; Optimising</a></li><li>Andreas Larsen: <a href="https://medium.com/larsenwork-andreas-larsen/optimising-svgs-for-web-use-part-1-67e8f2d4035">Optimising SVGs for Web Use</a></li><li>Josh Stoik: <a href="https://blobfolio.com/2017/02/optimizing-svgs-for-web-use/">Optimizing SVGs For Web Use</a></li></ul>
</div></div>



<div class="wp-block-group svg-group svg-group-7"><div class="wp-block-group__inner-container">
<h3>Manual/Hand SVG Optimization Work</h3>



<ul><li>Raymond Schwartz: <a href="https://css-tricks.com/understanding-and-manually-improving-svg-optimization/">Understanding and Manually Improving SVG&nbsp;Optimization</a></li><li>Amberd Design Studio: <a href="https://www.amberddesign.com/how-to-optimize-an-svg-file/">How to Optimize an SVG File Step-by-Step</a></li><li>Video from us: <a href="https://css-tricks.com/lodge/svg/25-manually-optimizing-svg-illustrator/">Reducing vector points in Illustrator</a></li><li>Video from Kevin Powell: <a href="https://www.youtube.com/watch?v=cWh0de8IhX4">How to create, clean up, and optimize an SVG</a></li><li>Presentation by Brenda Storer: <a href="https://brendastorer.com/presentations/2016-01-svgsummit/">Cracking the SVG Code</a> </li><li>Dudley Storey: <a href="http://thenewcode.com/807/SVG-Optimisation-The-Basics">SVG Optimisation: The Basics</a></li></ul>
</div></div>
</div></div>



<div class="wp-block-group footnotes" id="fn:1"><div class="wp-block-group__inner-container">
<ol><li>No longer maintained references: <a href="https://github.com/svg/svgo/issues/1055">SVGO</a>, <a href="https://github.com/scour-project/scour/commits/master">Scour</a>, <a href="https://github.com/RazrFalcon/svgcleaner/issues/213#issuecomment-589801095">svgcleaner</a></li><li>Johannes Kalliauer at Wikipedia (who informed me of the broader landscape of command-line tools) tells me that each of the tools have their advantages. While SVGO is popular, it is also the buggiest. svgcleaner is the fastest. Scour and svgcleaner can also repair damaged SVG while SVGO cannot.</li></ol>
</div></div>



<p></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/tools-for-optimizing-svg/">Tools for Optimizing SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/tools-for-optimizing-svg/feed/</wfw:commentRss>
			<slash:comments>4</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">303798</post-id>	</item>
		<item>
		<title>How We Created a Static Site That Generates Tartan Patterns in SVG</title>
		<link>https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/</link>
					<comments>https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/#comments</comments>
		
		<dc:creator><![CDATA[Paulina Hetman]]></dc:creator>
		<pubDate>Wed, 04 Mar 2020 15:26:38 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[gatsby]]></category>
		<category><![CDATA[pattern]]></category>
		<category><![CDATA[react]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=304266</guid>

					<description><![CDATA[<p>Tartan is a patterned cloth that’s typically associated with Scotland, particularly their fashionable kilts. On <a href="https://tartanify.com">tartanify.com</a>, we gathered over 5,000 tartan patterns (as SVG and PNG files), taking care to filter out any that have explicit usage restrictions.</p>
<p>The idea&#160;was cooked up by <a rel="noreferrer noopener" target="_blank" href="https://twitter.com/joevains">Sylvain Guizard</a> during our summer holidays in Scotland. At the very beginning, we were thinking of building the pattern library manually in some graphics software, like Adobe Illustrator or Sketch. But that was before we discovered &#8230; <a href="https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/" class="read-more">Read article <span class="screen-reader-text"> &#8220;How We Created a Static Site That Generates Tartan Patterns in SVG&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/">How We Created a Static Site That Generates Tartan Patterns in SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Tartan is a patterned cloth that’s typically associated with Scotland, particularly their fashionable kilts. On <a href="https://tartanify.com">tartanify.com</a>, we gathered over 5,000 tartan patterns (as SVG and PNG files), taking care to filter out any that have explicit usage restrictions.</p>



<p>The idea&nbsp;was cooked up by <a rel="noreferrer noopener" target="_blank" href="https://twitter.com/joevains">Sylvain Guizard</a> during our summer holidays in Scotland. At the very beginning, we were thinking of building the pattern library manually in some graphics software, like Adobe Illustrator or Sketch. But that was before we discovered that the number of tartan patterns comes in <em>thousands</em>. We felt overwhelmed and gave up… until I found out that tartans have a specific anatomy and are referenced by simple strings composed of the numbers of threads and color codes.</p>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/02/s_6AEB232739F96207DC3F1405EE370EA96FBA6A091724A58759A2357593F1527A_1580486250078_tartanify.jpg?ssl=1" alt="" class="wp-image-304267" data-recalc-dims="1"/></figure>



<h3>Tartan anatomy and SVG</h3>



<p><a rel="noreferrer noopener" target="_blank" href="https://en.wikipedia.org/wiki/Tartan">Tartan</a>&nbsp;is made with alternating bands of colored threads woven at right angles&nbsp;that are parallel&nbsp;to each other. The vertical and horizontal bands follow the same pattern of colors and widths. The rectangular&nbsp;areas where the horizontal and vertical bands cross give the appearance of new colors&nbsp;by blending&nbsp;the original ones. Moreover, tartans are woven with a specific technique called twill, which results in visible diagonal lines. I tried to recreate&nbsp;the&nbsp;technique with SVG&nbsp;rectangles as threads here:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_ExaJjmx" src="//codepen.io/anon/embed/ExaJjmx?height=550&amp;theme-id=1&amp;slug-hash=ExaJjmx&amp;default-tab=result" height="550" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed ExaJjmx" title="CodePen Embed ExaJjmx" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>Let’s analyze the following SVG structure:</p>



<pre rel="SVG" class="wp-block-csstricks-code-block language-svg" data-line=""><code markup="tt">
&lt;svg viewBox="0 0 280 280" width="280" height="280" x="0"  y="0" xmlns="http://www.w3.org/2000/svg">
  &lt;defs>
    &lt;mask id="grating" x="0" y="0" width="1" height="1">
      &lt;rect x="0" y="0" width="100%" height="100%" fill="url(#diagonalStripes)"/>
    &lt;/mask>
  &lt;/defs>
  &lt;g id="horizontalStripes">
    &lt;rect fill="#FF8A00" height="40" width="100%" x="0" y="0"/>    
    &lt;rect fill="#E52E71" height="10" width="100%" x="0" y="40"/>
    &lt;rect fill="#FFFFFF" height="10" width="100%" x="0" y="50"/>
    &lt;rect fill="#E52E71" height="70" width="100%" x="0" y="60"/>   
    &lt;rect fill="#100E17" height="20" width="100%" x="0" y="130"/>    
    &lt;rect fill="#E52E71" height="70" width="100%" x="0" y="150"/>
    &lt;rect fill="#FFFFFF" height="10" width="100%" x="0" y="220"/>
    &lt;rect fill="#E52E71" height="10" width="100%" x="0" y="230"/>   
    &lt;rect fill="#FF8A00" height="40" width="100%" x="0" y="240"/>
  &lt;/g>
  &lt;g id="verticalStripes" mask="url(#grating)">
    &lt;rect fill="#FF8A00" width="40" height="100%" x="0" y="0" />  
    &lt;rect fill="#E52E71" width="10" height="100%" x="40" y="0" />
    &lt;rect fill="#FFFFFF" width="10" height="100%" x="50" y="0" />
    &lt;rect fill="#E52E71" width="70" height="100%" x="60" y="0" />
    &lt;rect fill="#100E17" width="20" height="100%" x="130" y="0" />   
    &lt;rect fill="#E52E71" width="70" height="100%" x="150" y="0" />
    &lt;rect fill="#FFFFFF" width="10" height="100%" x="220" y="0" />
    &lt;rect fill="#E52E71" width="10" height="100%" x="230" y="0" />   
    &lt;rect fill="#FF8A00" width="40" height="100%" x="240" y="0" />
  &lt;/g>
&lt;/svg></code></pre>



<p>The&nbsp;<code>horizontalStripes</code>&nbsp;group creates a 280&#215;280 square with horizontal stripes. The&nbsp;<code>verticalStripes</code>&nbsp;group creates the same square,&nbsp;but rotated&nbsp;by&nbsp;90 degrees. Both squares start at&nbsp;<code>(0,0)</code>&nbsp;coordinates.&nbsp;That means the&nbsp;<code>horizontalStripes</code>&nbsp;are completely covered by the&nbsp;<code>verticalStripes</code>; that is, unless we apply a mask on the upper one.</p>



<pre rel="SVG" class="wp-block-csstricks-code-block language-svg" data-line=""><code markup="tt">&lt;defs>
  &lt;mask id="grating" x="0" y="0" width="1" height="1">
    &lt;rect x="0" y="0" width="100%" height="100%" fill="url(#diagonalStripes)"/>
  &lt;/mask>
&lt;/defs></code></pre>



<p>The <a rel="noreferrer noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask">mask</a>  SVG element defines an alpha mask. By default, the coordinate system used for its  <code>x</code>,  <code>y</code>,  <code>width</code>, and  <code>height</code> attributes is the  <code>objectBoundingBox</code>. Setting  <code>width</code>  and  <code>height</code>  to <code>1</code>  (or 100%)  means that the mask covers  the <code>verticalStripes</code>  resulting in just the  white parts within the mask  being full visible.</p>



<p>Can we fill our mask with a pattern? Yes, we can! Let’s reflect the tartan weaving technique using a pattern tile, like this:</p>



<figure class="wp-block-image"><img src="https://paper-attachments.dropbox.com/s_6AEB232739F96207DC3F1405EE370EA96FBA6A091724A58759A2357593F1527A_1580312555175_mask-pattern-tile.png" alt=""/></figure>



<p>In the&nbsp;pattern&nbsp;definition we change the&nbsp;patternUnits&nbsp;from the default &nbsp;<code>objectBoundingBox</code>&nbsp;to&nbsp;<code>userSpaceOnUse</code>&nbsp;so that now,&nbsp;width&nbsp;and&nbsp;height&nbsp;are defined in pixels.</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;svg width="0" height="0">
  &lt;defs>
    &lt;pattern id="diagonalStripes" x="0" y="0" patternUnits="userSpaceOnUse" width="8" height="8">
      &lt;polygon points="0,4 0,8 8,0 4,0" fill="white"/>
      &lt;polygon points="4,8 8,8 8,4" fill="white"/>
    &lt;/pattern>    
  &lt;/defs> 
&lt;/svg></code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_VwYVBwN" src="//codepen.io/anon/embed/VwYVBwN?height=300&amp;theme-id=1&amp;slug-hash=VwYVBwN&amp;default-tab=result" height="300" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed VwYVBwN" title="CodePen Embed VwYVBwN" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<h3>Using React&nbsp;for tartan weaving</h3>



<p>We&nbsp;just saw&nbsp;how&nbsp;we can create a&nbsp;manual&nbsp;“weave”&nbsp;with SVG. Now let’s automatize this process with React.&nbsp;</p>



<p>The&nbsp;<code>SvgDefs</code>&nbsp;component is straightforward&nbsp;—&nbsp;it returns the&nbsp;defs&nbsp;markup.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const SvgDefs = () => {
  return (
    &lt;defs>
      &lt;pattern
        id="diagonalStripes"
        x="0"
        y="0"
        width="8"
        height="8"
        patternUnits="userSpaceOnUse"
      >
        &lt;polygon points="0,4 0,8 8,0 4,0" fill="#ffffff" />
        &lt;polygon points="4,8 8,8 8,4" fill="#ffffff" />
      &lt;/pattern>
      &lt;mask id="grating" x="0" y="0" width="1" height="1">
        &lt;rect
          x="0"
          y="0"
          width="100%"
          height="100%"
          fill="url(#diagonalStripes)"
        />
      &lt;/mask>
    &lt;/defs>
  )
}</code></pre>



<p>We will represent a tartan as an array of stripes. Each stripe is an object with two properties: <code>fill</code> (a  hex color) and <code>size</code> (a number).</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const tartan = [
  { fill: "#FF8A00", size: 40 },
  { fill: "#E52E71", size: 10 },
  { fill: "#FFFFFF", size: 10 },
  { fill: "#E52E71", size: 70 },
  { fill: "#100E17", size: 20 },
  { fill: "#E52E71", size: 70 },
  { fill: "#FFFFFF", size: 10 },
  { fill: "#E52E71", size: 10 },
  { fill: "#FF8A00", size: 40 },
]</code></pre>



<p><a rel="noreferrer noopener" target="_blank" href="https://github.com/thetartan/tartan-database/tree/master/data">Tartans data</a> is often available as a pair of strings: <code>Palette</code> and <code>Threadcount</code> that could look like this:</p>



<pre rel="" class="wp-block-csstricks-code-block language-none" data-line=""><code markup="tt">// Palette
O#FF8A00 P#E52E71 W#FFFFFF K#100E17

// Threadcount
O/40 P10 W10 P70 K/10.</code></pre>



<p>I won’t cover how&nbsp;to convert this string representation into the stripes array&nbsp;but,&nbsp;if you are interested, you can find my method&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://gist.github.com/pehaa/bd223237802aff6261580f5d674a1fde">in this Gist</a>.</p>



<p>The&nbsp;<code>SvgTile</code>&nbsp;component takes the&nbsp;<code>tartan</code>&nbsp;array as props and returns an SVG structure.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const SvgTile = ({ tartan }) => {

  // We need to calculate the starting position of each stripe and the total size of the tile
  const cumulativeSizes = tartan
    .map(el => el.size)
    .reduce(function(r, a) {
      if (r.length > 0) a += r[r.length - 1]
      r.push(a)
      return r
    }, [])
  
  // The tile size
  const size = cumulativeSizes[cumulativeSizes.length - 1]

  return (
    &lt;svg
      viewBox={`0 0 ${size} ${size}`}
      width={size}
      height={size}
      x="0"
      y="0"
      xmlns="http://www.w3.org/2000/svg"
    >
      &lt;SvgDefs />
      &lt;g id="horizontalStripes">
        {tartan.map((el, index) => {
          return (
            &lt;rect
              fill={el.fill}
              width="100%"
              height={el.size}
              x="0"
              y={cumulativeSizes[index - 1] || 0}
            />
          )
        })}
      &lt;/g>
      &lt;g id="verticalStripes" mask="url(#grating)">
        {tartan.map((el, index) => {
          return (
            &lt;rect
              fill={el.fill}
              width={el.size}
              height="100%"
              x={cumulativeSizes[index - 1] || 0}
              y="0"
            />
          )
        })}
      &lt;/g>
    &lt;/svg>
  )
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_mdyQJMg" src="//codepen.io/anon/embed/mdyQJMg?height=350&amp;theme-id=1&amp;slug-hash=mdyQJMg&amp;default-tab=result" height="350" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed mdyQJMg" title="CodePen Embed mdyQJMg" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<h3>Using a&nbsp;tartan&nbsp;SVG&nbsp;tile as&nbsp;a&nbsp;background&nbsp;image</h3>



<p>On tartanify.com, each <a href="https://tartanify.com/tartan/scott-2">individual tartan</a> is used as a background image on a full-screen element. This requires some extra manipulation since we don’t have our tartan pattern tile as an SVG image. We&#8217;re also unable to use an inline SVG directly in the background-image property. </p>



<p>Fortunately,&nbsp;encoding the SVG as a background image&nbsp;does&nbsp;work:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">.bg-element {
  background-image: url('data:image/svg+xml;charset=utf-8,&lt;svg>...&lt;/svg>');
}</code></pre>



<p>Let’s now create an&nbsp;<code>SvgBg</code>&nbsp;component. It takes the&nbsp;<code>tartan</code>&nbsp;array as props and returns a full-screen div with the tartan pattern as background.</p>



<p>We need to convert the&nbsp;<code>SvgTile</code>&nbsp;React object into a string. The&nbsp;<code>ReactDOMServer</code>&nbsp;object allows&nbsp;us&nbsp;to render components to static markup. Its method&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://reactjs.org/docs/react-dom-server.html#rendertostaticmarkup"><code>renderToStaticMarkup</code></a>&nbsp;is available both in the browser and on the&nbsp;Node server. The latter is important since later we will server&nbsp;render the tartan pages with&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/">Gatsby</a>.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const tartanStr = ReactDOMServer.renderToStaticMarkup(&lt;SvgTile tartan={tartan} />)</code></pre>



<p>Our SVG string contains hex color codes starting with the&nbsp;<code>#</code>&nbsp;symbol. At the same time,&nbsp;<code>#</code>&nbsp;starts a fragment identifier in a URL. It means our code will break unless we escape all of those instances. That’s where the built-in JavaScript&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent"><code>encodeURIComponent</code></a>&nbsp;function comes in handy.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line="3"><code markup="tt">const SvgBg = ({ tartan }) => {
  const tartanStr = ReactDOMServer.renderToStaticMarkup(&lt;SvgTile tartan={tartan} />)
  const tartanData = encodeURIComponent(tartanStr)
  return (
    &lt;div
      style={{
        width: "100%",
        height: "100vh",
        backgroundImage: `url("data:image/svg+xml;utf8,${tartanData}")`,
      }}
    />
  )
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_abzQgWQ" src="//codepen.io/anon/embed/abzQgWQ?height=350&amp;theme-id=1&amp;slug-hash=abzQgWQ&amp;default-tab=result" height="350" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed abzQgWQ" title="CodePen Embed abzQgWQ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<h3>Making an&nbsp;SVG tartan tile downloadable</h3>



<p>Let’s now download our SVG image.</p>



<p>The <code>SvgDownloadLink</code>  component takes  <code>svgData</code>  (the  already encoded SVG string) and  <code>fileName</code>  as props and creates an anchor (<code>&lt;a&gt;</code>)  element. The <code>download</code> attribute prompts the user to save the linked URL instead of navigating to it. When used with a value, it suggests the name of the destination file.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const SvgDownloadLink = ({ svgData, fileName = "file" }) => {
  return (
    &lt;a
      download={`${fileName}.svg`}
      href={`data:image/svg+xml;utf8,${svgData}`}
    >
      Download as SVG
    &lt;/a>
  )
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_oNgVqOJ" src="//codepen.io/anon/embed/oNgVqOJ?height=350&amp;theme-id=1&amp;slug-hash=oNgVqOJ&amp;default-tab=result" height="350" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed oNgVqOJ" title="CodePen Embed oNgVqOJ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<h1>Converting an&nbsp;SVG tartan tile to&nbsp;a&nbsp;high-res PNG&nbsp;image file</h1>



<p>What about users that prefer the PNG&nbsp;image&nbsp;format over SVG? Can we provide them with high resolution PNGs?</p>



<p>The <code>PngDownloadLink</code>  component, just like <code>SvgDownloadLink</code>, creates an anchor tag and has the  <code>tartanData</code>  and <code>fileName</code> as props. In this case however, we also need to provide the tartan tile size since we need to set the canvas dimensions.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const Tile = SvgTile({tartan})
// Tartan tiles are always square
const tartanSize = Tile.props.width</code></pre>



<p>In the browser, once the component is ready, we draw the SVG tile on a <a rel="noreferrer noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API"><code>&lt;canvas&gt;</code>  element.</a>  We’ll  use the canvas  <a rel="noreferrer noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL"><code>toDataUrl()</code></a> method that returns the image as a data URI. Finally, we set the date URI as the <code>href</code>  attribute of our anchor tag. </p>



<p>Notice that we use double dimensions for the&nbsp;canvas&nbsp;and double scale the&nbsp;<code>ctx</code>.&nbsp;This way,&nbsp;we will output a PNG that’s double the size, which is great for high-resolution usage.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line="5,6,8"><code markup="tt">const PngDownloadLink = ({ svgData, width, height, fileName = "file" }) => {
  const aEl = React.createRef()
  React.useEffect(() => {
    const canvas = document.createElement("canvas")
    canvas.width = 2 * width
    canvas.height = 2 * height
    const ctx = canvas.getContext("2d")
    ctx.scale(2, 2)
    let img = new Image()
    img.src = `data:image/svg+xml, ${svgData}`
    img.onload = () => {
      ctx.drawImage(img, 0, 0)
      const href = canvas.toDataURL("image/png")
      aEl.current.setAttribute("href", href)
    }
  }, [])
  return (
    &lt;a 
      ref={aEl} 
      download={`${fileName}.png`}
    >
      Download as PNG
    &lt;/a>
  )
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_gObEzpp" src="//codepen.io/anon/embed/gObEzpp?height=350&amp;theme-id=1&amp;slug-hash=gObEzpp&amp;default-tab=result" height="350" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed gObEzpp" title="CodePen Embed gObEzpp" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>For that demo, I could have skipped React&#8217;s&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://css-tricks.com/run-useeffect-only-once/"><code>useEffect</code></a>&nbsp;hook and the code would worked&nbsp;fine.&nbsp;Nevertheless, our code is executed both on the server and in the browser, thanks to&nbsp;Gatsby. Before we start creating&nbsp;the&nbsp;canvas, we&nbsp;need to be sure that we are in a browser.&nbsp;We&nbsp;should&nbsp;also&nbsp;make sure&nbsp;the anchor element&nbsp;is&nbsp;”ready”&nbsp;before we modify its attribute.&nbsp;</p>



<h3>Making&nbsp;a static website&nbsp;out of CSV&nbsp;with Gatsby</h3>



<p>If you haven’t already heard of&nbsp;<a rel="noreferrer noopener" target="_blank" href="http://gatsbyjs.org/">Gatsby</a>,&nbsp;it’s a free and open source framework that allows&nbsp;you&nbsp;to pull data from almost anywhere and&nbsp;generate&nbsp;static&nbsp;websites that are powered by React.</p>



<p><a rel="noreferrer noopener" target="_blank" href="https://tartanify.com/">Tartanify.com</a>&nbsp;is a Gatsby website coded by myself and designed by Sylvain. At the beginning of the&nbsp;project, all we had was a huge&nbsp;CSV&nbsp;file&nbsp;(seriously,&nbsp;5,495 rows), a method to convert the&nbsp;palette and&nbsp;threadcount strings into the tartan SVG structure,&nbsp;and an objective to give&nbsp;Gatsby&nbsp;a try.</p>



<figure class="wp-block-image size-large"><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/02/s_6AEB232739F96207DC3F1405EE370EA96FBA6A091724A58759A2357593F1527A_1580048459098_image.png?ssl=1" alt="" class="wp-image-304274" data-recalc-dims="1"/></figure>



<p>In order to use a CSV file as the data source, we need two Gatsby plugins: <a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/packages/gatsby-transformer-csv/">gatsby-transformer-csv</a> and <a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/packages/gatsby-source-filesystem/">gatsby-source-filesystem</a>. Under the hood, the source plugin reads the files in the /src/data folder (which is where we put the <code>tartans.csv</code> file), then the transformer plugin parses the CSV file into JSON arrays.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// gatsby-config.js
module.exports = {
  /* ... */
  plugins: [
    'gatsby-transformer-csv',
    {
      resolve: 'gatsby-source-filesystem',
      options: {
        path: `${__dirname}/src/data`,
        name: 'data',
      },
    },
  ],
}</code></pre>



<p>Now, let’s see what happens in the  <a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/docs/api-files-gatsby-node/">gatsby-node.js  file.</a>  The  file is run during the site-building process. That’s where we can use two Gatsby Node APIs:  <a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/docs/node-apis/#createPages"><code>createPages</code></a> and <a rel="noreferrer noopener" target="_blank" href="https://www.gatsbyjs.org/docs/node-apis/#onCreateNode"><code>onCreateNode</code></a>. <code>onCreateNode</code> is called when a new node is created. We will add two additional fields to a tartan node: its unique slug and a unique name. It is necessary since the CSV file contains a number of tartan variants that are stored under the same name.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// gatsby-node.js
// We add slugs here and use this array to check if a slug is already in use
let slugs = []
// Then, if needed, we append a number
let i = 1

exports.onCreateNode = ({ node, actions }) => {
  if (node.internal.type === 'TartansCsv') {
    // This transforms any string into slug
    let slug = slugify(node.Name)
    let uniqueName = node.Name
    // If the slug is already in use, we will attach a number to it and the uniqueName
    if (slugs.indexOf(slug) !== -1) {
      slug += `-${i}`
      uniqueName += ` ${i}`
      i++
    } else {
      i = 1
    }
    slugs.push(slug)
  
    // Adding fields to the node happen here
    actions.createNodeField({
      name: 'slug',
      node,
      value: slug,
    })
    actions.createNodeField({
      name: 'Unique_Name',
      node,
      value: uniqueName,
    })
  }
}</code></pre>



<p>Next, we create pages for each&nbsp;<em>individual</em>&nbsp;tartan. We want to have access to its siblings so that we can navigate easily. We will query the previous and next edges and add the result to the tartan page context.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// gatsby-node.js
exports.createPages = async ({ graphql, actions }) => {
  const { createPage } = actions
  const allTartans = await graphql(`
    query {
      allTartansCsv {
        edges {
          node {
            id
            fields {
              slug
            }
          }
          previous {
            fields {
              slug
              Unique_Name
            }
          }
          next {
            fields {
              slug
              Unique_Name
            }
          }
        }
      }
    }
  `)
  if (allTartans.errors) {
    throw allTartans.errors
  }
  allTartans.data.allTartansCsv.edges.forEach(
    ({ node, next, previous }) => {
      createPage({
        path: `/tartan/${node.fields.slug}`,
        component: path.resolve(`./src/templates/tartan.js`),
        context: {
          id: node.id,
          previous,
          next,
        },
      })
    }
  )
}</code></pre>



<p>We decided to index tartans by letters  and  create  paginated letter pages. These pages list tartans with links to their individual pages. We display a maximum of 60 tartans per page, and the number of pages per letter varies. For example, the letter  “a”  will have have  four  pages:  <code>tartans/a</code>,  <code>tartans/a/2</code>,  <code>tartans/a/3</code> and  <code>tartans/a/4</code>. The highest number of pages  (15)  belongs to  “m”  due to a high number of traditional names starting with  “Mac.”</p>



<p>The <code>tartans/a/4</code> page should point to  <code>tartans/b</code>  as its next page and <code>tartans/b</code> should point to  <code>tartans/a/4</code> as its previous page.</p>



<p>We will run a <code>for of</code> loop through the letters array  <code>["a",  "b", ... ,  "z"]</code> and query all tartans that start with a given letter. This can be done with filter  and regex operator:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">allTartansCsv(filter: { Name: { regex: "/^${letter}/i" } })</code></pre>



<p>The&nbsp;<code>previousLetterLastIndex</code>&nbsp;variable will be updated at the end of each loop and store the number of pages per letter. The&nbsp;<code>/tartans/b</code>&nbsp;page need to know the number of a pages&nbsp;(4)&nbsp;since its previous link should be&nbsp;<code>tartans/a/4</code>.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// gatsby-node.js
const letters = "abcdefghijklmnopqrstuvwxyz".split("")
exports.createPages = async ({ graphql, actions }) => {
  const { createPage } = actions
  // etc.

  let previousLetterLastIndex = 1
  for (const letter of letters) {
    const allTartansByLetter = await graphql(`
      query {
        allTartansCsv(filter: {Name: {regex: "/^${letter}/i"}}) {
          nodes {
            Palette
            fields {
              slug
              Unique_Name
            }
          }
          totalCount
        }
      }
    `)
    if (allTartansByLetter.errors) {
      throw allTartansByLetter.errors
    }
    const nodes = allTartansByLetter.data.allTartansCsv.nodes
    const totalCountByLetter = allTartansByLetter.data.allTartansCsv.totalCount
    const paginatedNodes = paginateNodes(nodes, pageLength)
    paginatedNodes.forEach((group, index, groups) => {
      createPage({
        path:
          index > 0 ? `/tartans/${letter}/${index + 1}` : `/tartans/${letter}`,
        component: path.resolve(`./src/templates/tartans.js`),
        context: {
          group,
          index,
          last: index === groups.length - 1,
          pageCount: groups.length,
          letter,
          previousLetterLastIndex,
        },
      })
    })
    previousLetterLastIndex = Math.ceil(totalCountByLetter / pageLength)
  }
}</code></pre>



<p>The&nbsp;<code>paginateNode</code>&nbsp;function returns an array where initial elements are grouped by&nbsp;<code>pageLength</code>.&nbsp;</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const paginateNodes = (array, pageLength) => {
  const result = Array()
  for (let i = 0; i &lt; Math.ceil(array.length / pageLength); i++) {
    result.push(array.slice(i * pageLength, (i + 1) * pageLength))
  }
  return result
}</code></pre>



<p>Now let’s look into the tartan template. Since Gatsby is a React application,&nbsp;we can use the components that we were building in the first part of this article.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// ./src/templates/tartan.js
import React from "react"
import { graphql } from "gatsby"
import Layout from "../components/layout"
import SvgTile from "../components/svgtile"
import SvgBg from "../components/svgbg"
import svgAsString from "../components/svgasstring"
import SvgDownloadLink from "../components/svgdownloadlink"
import PngDownloadLink from "../components/pngdownloadlink"

export const query = graphql`
  query($id: String!) {
    tartansCsv(id: { eq: $id }) {
      Palette
      Threadcount
      Origin_URL
      fields {
        slug
        Unique_Name
      }
    }
  }
`
const TartanTemplate = props => {
  const { fields, Palette, Threadcount } = props.data.tartansCsv
  const {slug} = fields
  const svg = SvgTile({
    palette: Palette,
    threadcount: Threadcount,
  })
  const svgData = svgAsString(svg)
  const svgSize = svg.props.width
  
  return (
    &lt;Layout>
      &lt;SvgBg svg={svg} />
      {/* title and navigation component comes here */}
      &lt;div className="downloads">
        &lt;SvgDownloadLink svgData={svgData} fileName={slug} />
        &lt;PngDownloadLink svgData={svgData} size={svgSize} fileName={slug} />
      &lt;/div>
    &lt;/Layout>
  )
}
export default TartanTemplate</code></pre>



<p>Finally let’s focus on the tartans index pages&nbsp;(the&nbsp;letter pages).</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// ./src/templates/tartans.js
import React from "react"
import Layout from "../components/layout"
import {Link} from "gatsby"
import TartansNavigation from "../components/tartansnavigation"
const TartansTemplate = ({ pageContext }) => {
  const {
    group,
    index,
    last,
    pageCount,
    letter,
    previousLetterLastIndex,
  } = pageContext

  return (
    &lt;Layout>
      &lt;header>
        &lt;h1>{letter}&lt;/h1>
      &lt;/header>
      &lt;ul>
        {group.map(node => {
          return (
            &lt;li key={node.fields.slug}>
              &lt;Link to={`/tartan/${node.fields.slug}`}>
                &lt;span>{node.fields.Unique_Name}&lt;/span>
              &lt;/Link>
            &lt;/li>
          )
        })}
      &lt;/ul>
      &lt;TartansNavigation
        letter={letter}
        index={index}
        last={last}
        previousLetterLastIndex={previousLetterLastIndex}
      />
    &lt;/Layout>
  )
}
export default TartansTemplate</code></pre>



<p>The <code>TartansNavigation</code> component adds next-previous navigation between the index pages.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// ./src/components/tartansnavigation.js
import React from "react"
import {Link} from "gatsby"

const letters = "abcdefghijklmnopqrstuvwxyz".split("")
const TartansNavigation = ({
  className,
  letter,
  index,
  last,
  previousLetterLastIndex,
}) => {
  const first = index === 0
  const letterIndex = letters.indexOf(letter)
  const previousLetter = letterIndex > 0 ? letters[letterIndex - 1] : ""
  const nextLetter =
    letterIndex &lt; letters.length - 1 ? letters[letterIndex + 1] : ""
  
  let previousUrl = null, nextUrl = null

  // Check if previousUrl exists and create it
  if (index === 0 &amp;&amp; previousLetter) {
    // First page of each new letter except "a"
    // If the previous letter had more than one page we need to attach the number 
    const linkFragment =
      previousLetterLastIndex === 1 ? "" : `/${previousLetterLastIndex}`
    previousUrl = `/tartans/${previousLetter}${linkFragment}`
  } else if (index === 1) {
    // The second page for a letter
    previousUrl = `/tartans/${letter}`
  } else if (index > 1) {
    // Third and beyond
    previousUrl = `/tartans/${letter}/${index}`
  }
  
  // Check if `nextUrl` exists and create it
  if (last &amp;&amp; nextLetter) {
    // Last page of any letter except "z"
    nextUrl = `/tartans/${nextLetter}`
  } else if (!last) {
    nextUrl = `/tartans/${letter}/${(index + 2).toString()}`
  }

  return (
    &lt;nav>
      {previousUrl &amp;&amp; (
        &lt;Link to={previousUrl} aria-label="Go to Previous Page" />
      )}
      {nextUrl &amp;&amp; (
        &lt;Link to={nextUrl} aria-label="Go to Next Page" />
      )}
    &lt;/nav>
  )
}
export default TartansNavigation</code></pre>



<h1>Final thoughts</h1>



<p>Let’s stop here. I tried to cover all of the key aspects of this project. You can find all the tartanify.com code  <a rel="noreferrer noopener" target="_blank" href="https://github.com/pehaa/tartanify.com">on  GitHub</a>. The structure of this article reflects my personal journey  —  understanding  the specificity of tartans, translating  them into SVG, automating  the process, generating  image  versions, and discovering  Gatsby  to  build a user-friendly website. It was maybe not as fun as our Scottish journey itself &#x1f609;, but I truly enjoyed it. Once again, a side project proved to be the best way to dig into new technology.</p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/">How We Created a Static Site That Generates Tartan Patterns in SVG</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/how-we-created-a-static-site-that-generates-tartan-patterns-in-svg/feed/</wfw:commentRss>
			<slash:comments>8</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">304266</post-id>	</item>
		<item>
		<title>Add Background Colors to SVGs Using the “rect” Element</title>
		<link>https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/</link>
					<comments>https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/#comments</comments>
		
		<dc:creator><![CDATA[Kate Holterhoff]]></dc:creator>
		<pubDate>Thu, 20 Feb 2020 14:43:48 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[css for svg]]></category>
		<category><![CDATA[SVG]]></category>
		<category><![CDATA[svg icons]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=303339</guid>

					<description><![CDATA[<p>The advantages of using SVGs in web development are <a rel="noreferrer noopener" target="_blank" href="https://css-tricks.com/using-svg/">well known</a>. SVGs are small in size, can be made quite accessible, are scalable while maintaining their quality, and can be animated. Still, there is a learning curve. Things, like the syntax of SVG, can be a little tricky and having to hand-alter SVG code sometimes isn’t out of the question.</p>
<p>Most SVG assets allow styling to be applied in predictable ways. For instance, this circle has a hover state &#8230; <a href="https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Add Background Colors to SVGs Using the “rect” Element&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/">Add Background Colors to SVGs Using the “rect” Element</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>The advantages of using SVGs in web development are <a rel="noreferrer noopener" target="_blank" href="https://css-tricks.com/using-svg/">well known</a>. SVGs are small in size, can be made quite accessible, are scalable while maintaining their quality, and can be animated. Still, there is a learning curve. Things, like the syntax of SVG, can be a little tricky and having to hand-alter SVG code sometimes isn’t out of the question.</p>



<p>Most SVG assets allow styling to be applied in predictable ways. For instance, this circle has a hover state that functions much like any other element in the DOM.</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_ExaMJYL" src="//codepen.io/anon/embed/ExaMJYL?height=250&amp;theme-id=1&amp;slug-hash=ExaMJYL&amp;default-tab=result" height="250" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed ExaMJYL" title="CodePen Embed ExaMJYL" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>However, a problem I&#8217;ve encountered on several front-end projects is&nbsp;being provided&nbsp;a&nbsp;<strong>sub-optimal</strong>&nbsp;SVG asset by a client, designer, or brand resources site. There isn’t anything&nbsp;“wrong”&nbsp;with these files,&nbsp;but&nbsp;the SVG code requires manual&nbsp;revision to achieve necessary functionality. Instead of requesting new files,&nbsp;it is often easier to tweak them myself.&nbsp;</p>



<span id="more-303339"></span>



<p>Styling SVGs is complicated by the fact that, as XML-based files, they act like HTML in some respects, but not in others. Let’s work with an example provided by <a rel="noreferrer noopener" target="_blank" href="https://en.instagram-brand.com/assets/icons">Instagram</a> themselves (which is also <a rel="noreferrer noopener" target="_blank" href="https://commons.wikimedia.org/wiki/File:Instagram_font_awesome.svg">easily findable on Wikipedia</a>). Because the spaces in between paths act as a sort of transparency this image displays whatever background has been applied behind it. </p>



<p>Why isn’t there a background&nbsp;color on the SVG&nbsp;so we can apply a color change on hover&nbsp;(e.g.&nbsp;<code>svg:hover { background: #888; }</code>)?&nbsp;It’s because the paths fill the reverse of the space you would think they would. The negative space renders whatever sits behind this element&nbsp;(<code>&lt;body&gt;</code>&nbsp;in the CodePen examples below). Often this is not a problem&nbsp;and&nbsp;may even be desirable&nbsp;for large background designs to ensure organic transitions between content areas. However, because I am using this SVG as a link,&nbsp;I will need to alter the file so that I can style the space behind it.&nbsp;</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  &lt;title>Instagram&lt;/title>
  &lt;path d="..." transform="translate(0 0)" fill="#fff"/>
  &lt;path d="..." transform="translate(0 0)" fill="#fff"/>
  &lt;path d="..." transform="translate(0 0)" fill="#fff"/>
&lt;/svg></code></pre>



<p>The Instagram logo is a perfect example of an awkward SVG file&nbsp;that&nbsp;requires more CSS finesse than most. Again, there is nothing&nbsp;<em>wrong</em>&nbsp;with this SVG, but it presents some challenges for styling. In order to add a hover state that alters the background,&nbsp;we&nbsp;will need to change the code above.</p>



<p>There are several ways to go about this, but the easiest fix is to add&nbsp;another element&nbsp;behind the image. Because the Instagram icon is rectangular,&nbsp;we&nbsp;can add a&nbsp;<code>&lt;rect</code>&gt;&nbsp;element behind the three foreground paths that comprise this SVG. If the logo was circular or oval,&nbsp;I would have used the&nbsp;<code>&lt;circle&gt;</code>&nbsp;or <code>&lt;ellipse&gt;</code>&nbsp;element.&nbsp;Be sure to set a height and width to match the&nbsp;<code>viewBox</code>&nbsp;when adding this type of element, and&nbsp;use the&nbsp;<code>rx</code>&nbsp;value to round the corners as needed. Rather than adding a&nbsp;class&nbsp;or&nbsp;fill&nbsp;to every path in the&nbsp;SVG element,&nbsp;we can&nbsp;target the&nbsp;<code>&lt;rect&gt;</code>&nbsp;and&nbsp;<code>&lt;path&gt;</code>&nbsp;elements in&nbsp;the&nbsp;CSS file.&nbsp;</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_xxbRoxL" src="//codepen.io/anon/embed/xxbRoxL?height=250&amp;theme-id=1&amp;slug-hash=xxbRoxL&amp;default-tab=html,result" height="250" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed xxbRoxL" title="CodePen Embed xxbRoxL" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>The advantage of this approach is its simplicity. Instead of having to alter multiple files or use JavaScript&nbsp;or third-party JavaScript&nbsp;libraries,&nbsp;we&nbsp;can add one line of code to the SVG code block and style it.&nbsp;</p>



<p>If,&nbsp;for some reason,&nbsp;you need or just prefer to leave the SVG file alone, you can revise the CSS to achieve similar functionality.&nbsp;</p>



<p>We could add a <code>background</code> property on the <code>social-link</code> class but, for this tutorial, I will instead use the slightly more complicated, but equally effective, strategy of revising an SVG by applying a pseudo-element to it. In the example below, I have used the <code>::before</code> pseudo-class to add a shape and the <code>opacity</code> property to make it visible on hover. To avoid having this shape leave a border around the icon, I have made it slightly smaller than the SVG using the <code>height</code> and <code>width</code> properties (<code>calc(100% - 2px)</code>). Then I center the pseudo-element behind the SVG and match the transition property for both element and pseudo-element.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* Sets the link's dimensions */
.social-link {
  display: block;
  height: 24px;
  position: relative;
  width: 24px;
}

/* Targets the pseudo-element to create a new layer */
.social-link::before {
  background: #fff;
  border-radius: 2px;
  content: "";
  display: block;
  height: calc(100% - 2px);
  opacity: 0;
  position: absolute;
  transition: all 0.2s ease-in-out;
  width: calc(100% - 2px);
}

/* Changes the background color of the pseudo-element on hover and focus */
.social-link::before:hover, .social-link::before:focus {
  background: #000;
}

/* Makes sure the actual SVG element is layered on top of the pseudo-element */
.social-link svg {
  position: relative;
  z-index: 1;
}

/* Makes the background-color transition smooth */
.social-link svg path {
  transition: all 0.2s ease-in-out;
}

/* SVG paths are initially white */
.social-link path {
  fill: #fff;
}

/* The pseudo-elememt comes into full view on hover and focus */
.social-link:hover::before, .social-link:focus::before {
  opacity: 1;
}

/* Fills the SVG paths to black on hover and focus  */
.social-link:hover svg path, .social-link:focus svg path {
  fill: #000;
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_MWYPPxO" src="//codepen.io/anon/embed/MWYPPxO?height=250&amp;theme-id=1&amp;slug-hash=MWYPPxO&amp;default-tab=css,result" height="250" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed MWYPPxO" title="CodePen Embed MWYPPxO" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>I recommend the above strategies for a quick fix because using vanilla JavaScript or a JavaScript library like <a rel="noreferrer noopener" target="_blank" href="https://maxwellito.github.io/vivus/">vivus.js</a>&nbsp;or&nbsp;<a rel="noreferrer noopener" target="_blank" href="http://raphaeljs.com/">raphaeljs</a> is overkill for adding a hover state to an SVG in most cases. However, there are times when modifying an SVG using JavaScript is preferable. Because JavaScript is undoubtedly the most flexible method to change styles, let’s examine what this might look like.</p>



<p>My example separates the JavaScript&nbsp;file,&nbsp;but if you want to add JavaScript&nbsp;inside the SVG element itself,&nbsp;you will need to add a&nbsp;<code>&lt;script&gt;</code>&nbsp;element, just like an HTML file. Be sure to add a CDATA marker to your&nbsp;<code>&lt;script&gt;</code>&nbsp;element to ensure it is parsed as XML.</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_bGNmmJB" src="//codepen.io/anon/embed/bGNmmJB?height=250&amp;theme-id=1&amp;slug-hash=bGNmmJB&amp;default-tab=js,result" height="250" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed bGNmmJB" title="CodePen Embed bGNmmJB" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>I’m using jQuery to simplify things a bit and keep CSS as minimal as possible, although for clarity sake, I have added a <code>background</code> property on the <code>social-link</code> class in the CSS file rather than adding it via JavaScript. Notice that this solution targets <code>svg path</code> when altering the&nbsp;CSS&nbsp;method rather than assigning a class to these paths because,&nbsp;in this case, each path should be treated the same.</p>



<p>There are many many ways to style SVGs, but the examples collected in this article are useful and extensible. Strategies for altering SVG files need to be&nbsp;evaluated&nbsp;by&nbsp;an app’s full functionality, but I suspect most front-end developers will find that the&nbsp;<code>&lt;rect&gt;</code>&nbsp;element offers the simplest and most readable solution.</p>



<h1>Acknowledgements</h1>



<p>Many thanks to&nbsp;<a rel="noreferrer noopener" target="_blank" href="http://joeessey.com/">Joe Essey</a>&nbsp;and my front-end pals at Nebo Agency&nbsp;<a rel="noreferrer noopener" target="_blank" href="http://allisonllewis.com/">Allison Lewis</a>&nbsp;and&nbsp;<a rel="noreferrer noopener" target="_blank" href="http://helloimnile.com/">Nile Livingston</a>&nbsp;(check&nbsp;out Nile’s article,&nbsp;<a rel="noreferrer noopener" target="_blank" href="https://www.neboagency.com/labs/svgs-for-the-web/">“SVGs&nbsp;for the Web”</a>).&nbsp;</p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/">Add Background Colors to SVGs Using the “rect” Element</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/add-background-colors-to-svgs-using-the-rect-element/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">303339</post-id>	</item>
		<item>
		<title>Use and Reuse Everything in SVG… Even Animations!</title>
		<link>https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/</link>
					<comments>https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/#comments</comments>
		
		<dc:creator><![CDATA[Mariana Beldi]]></dc:creator>
		<pubDate>Tue, 28 Jan 2020 15:36:34 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[SVG]]></category>
		<category><![CDATA[SVG animation]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=302186</guid>

					<description><![CDATA[<p>If you are familiar with SVG and CSS animations and started to work with them often, here are some ideas you might want to keep in mind before jumping into the job. This article will be about learning how to build and optimize your code with <strong><code>&#60;use&#62;</code> element, CSS Variables and CSS animations.</strong></p>
<p><a rel="noreferrer noopener" target="_blank" href="https://codepen.io/marianab/pen/KKKYdxE">Live Demo</a></p>
<p>Part 1: The SVG &#60;use&#62; element</p>
<p>If you are a developer that likes to keep your code <a href="https://en.wikipedia.org/wiki/Don%2527t_repeat_yourself%23:~:targetText=From%2520Wikipedia%252C%2520the%2520free%2520encyclopedia,data%2520normalization%2520to%2520avoid%2520redundancy.">DRY</a> or a big fan of Sass/CSS variables, &#8230; <a href="https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Use and Reuse Everything in SVG… Even Animations!&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/">Use and Reuse Everything in SVG… Even Animations!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>If you are familiar with SVG and CSS animations and started to work with them often, here are some ideas you might want to keep in mind before jumping into the job. This article will be about learning how to build and optimize your code with <strong><code>&lt;use&gt;</code> element, CSS Variables and CSS animations.</strong></p>



<figure class="wp-block-video"><video autoplay controls loop src="https://css-tricks.com/wp-content/uploads/2020/01/cubes.mp4"></video><figcaption><a rel="noreferrer noopener" target="_blank" href="https://codepen.io/marianab/pen/KKKYdxE">Live Demo</a></figcaption></figure>



<span id="more-302186"></span>



<h3>Part 1: The SVG &lt;use&gt; element</h3>



<p>If you are a developer that likes to keep your code <a href="https://en.wikipedia.org/wiki/Don%2527t_repeat_yourself%23:~:targetText=From%2520Wikipedia%252C%2520the%2520free%2520encyclopedia,data%2520normalization%2520to%2520avoid%2520redundancy.">DRY</a> or a big fan of Sass/CSS variables, there is a good chance that you will like this tag.</p>



<p>Let’s say you have an element that is repeated many times in your graphic. Instead of having a complex part of your code repeated many times in your SVG, you can define this part once and then clone it somewhere else in your document with the &lt;use&gt; element. This will not only reduce an enormous amount of code, but also will make your markup simpler and easier to manipulate.</p>



<p>To start implementing the <code>&lt;use&gt;</code> element, go to your SVG and follow this steps:</p>



<ol><li>Identify the part of the code that you want to clone</li><li>Add an ID to that part</li><li>Link it inside your <code>&lt;use&gt;</code> tag like this: <code>&lt;use xlink:href="#id"/&gt;</code></li></ol>



<p>That’s it! Your new clone is ready, now you can change its attributes (e.g. <code>x</code> and <code>y</code> position) to fit your needs.</p>



<h3><strong>Let’s dive into a very convenient example</strong></h3>



<p>I want to share this real case where I needed to animate a big cube made of little cube units. (Imagine the classic <a href="https://www.rubiks.com/en-us/">Rubik’s Cube</a>.)</p>



<p>We’ll start by drawing the cube unit in SVG using basic shapes and transforms:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;svg viewBox="-130 -20 300 100">
  &lt;g id="cube">
    &lt;rect width="21" height="24" transform="skewY(30)"/>
    &lt;rect width="21" height="24" transform="skewY(-30) translate(21 24.3)"/>
    &lt;rect width="21" height="21"  transform="scale(1.41,.81) rotate(45) translate(0 -21)"/>
  &lt;/g>
&lt;/svg></code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_XWWQbYP" src="//codepen.io/anon/embed/XWWQbYP?height=350&amp;theme-id=1&amp;slug-hash=XWWQbYP&amp;default-tab=result" height="350" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed XWWQbYP" title="CodePen Embed XWWQbYP" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p class="explanation">Note that the shapes are grouped in a <code>&lt;g&gt;</code> element so we can add the ID to the whole figure.</p>



<p>Next, let’s build a bigger cube cloning this unit. First, we need to wrap the cube from the previous example inside the <code>&lt;defs&gt;</code> tag inside the SVG. In the <code>&lt;defs&gt;</code> element we can put whatever we want to reuse, which could be a single shape, a group, a gradient.. almost any SVG element. They won’t render anywhere unless we use them outside this tag.</p>



<p>Then we can link the unit as many times as we want using its ID and change the <code>x</code> and <code>y</code> position on every clone like this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;use xlink:href="#cube" x="142" y="124"/>
&lt;use xlink:href="#cube" x="100" y="124"/>
&lt;!-- ... --></code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_wvvZXqG" src="//codepen.io/anon/embed/wvvZXqG?height=450&amp;theme-id=1&amp;slug-hash=wvvZXqG&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed wvvZXqG" title="CodePen Embed wvvZXqG" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>Now we have to position every cube remembering that the last element will appear at the front, after that we’ll have our first big cube ready!</p>



<p class="explanation"><code>xlink:href</code> is deprecated since SVG2, but is better to use it for compatibility purposes. In modern browsers you can just use href but I tested it on Safari and at the time of writing is not working there. If you use <code>xlink:href</code> make sure you include this namespace in your SVG tag: <code>xmlns:xlink="http://www.w3.org/1999/xlink"</code> (you won’t need it if you decide to use href).</p>



<h3><strong>Part 2: Using CSS variables to apply different styles to your reused graphic</strong></h3>



<p>I chose a main color for the cube, which is a lighter and a darker shade for the sides and a stroke color. But what if we want to make a second cube a different color?</p>



<p>We can replace the fills and strokes with CSS variables to make these attributes more flexible. That way, we’ll be able to reuse the same cube unit with another palette (instead of defining a second unit with different colors for a second cube).</p>



<p>Why not add a class to the new cube and change the fill color with CSS? We’ll do that, but first, try to inspect a <code>&lt;use&gt;</code> element. You’ll notice it renders in the Shadow DOM. which means it is not vulnerable to scripts and styles, like elements in the normal DOM. Whatever values you define in the figure inside <code>&lt;defs&gt;</code> will be inherited by all its instances and you won’t be able to rewrite those with CSS. But if you replace those values with variables, then you’ll be able to <a href="https://tympanus.net/codrops/2015/07/16/styling-svg-use-content-css/">control them in CSS</a>.</p>



<p>In our cube unit, we’ll go through each side and replace the fill and stroke values with semantic variable names.</p>



<p>For example, this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;rect fill="#00affa" stroke="#0079ad" /></code></pre>



<p>…can be replaced with this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;rect fill="var(--mainColor)" stroke="var(--strokeColor)" /></code></pre>



<p>From here, we must duplicate the SVG to build a second cube. However, we don’t need to duplicate <code>&lt;defs&gt;</code> if we are keeping both in the same document. We can add a class to each SVG and control the color palette through CSS, redefining the values of the variable.</p>



<p>Let’s create a palette for the blue cube and another one for the pink cube:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">.blue-cube {
  --mainColor: #009CDE;
  --strokeColor: #0079ad;
  --lightColor: #00affa;
  --darkColor: #008bc7;
}

.pink-cube {
  --mainColor: #de0063;
  --strokeColor: #ad004e;
  --lightColor: #fa0070;
  --darkColor: #c7005a;
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_gOOJQmw" src="//codepen.io/anon/embed/gOOJQmw?height=450&amp;theme-id=1&amp;slug-hash=gOOJQmw&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed gOOJQmw" title="CodePen Embed gOOJQmw" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>This way, we can add as many cubes as we want and change all colors from one place.</p>



<h3><strong>Part 3: Reusing animations</strong></h3>



<p>The idea for this instance is to break the cubes on hover — something like an exploded view so some pieces will move away from the center when we place the cursor over the cubes.</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_KKKYdxE" src="//codepen.io/anon/embed/KKKYdxE?height=450&amp;theme-id=1&amp;slug-hash=KKKYdxE&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed KKKYdxE" title="CodePen Embed KKKYdxE" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>Let’s start by defining two movements, one for each axis: <code>move Y</code> and <code>move X</code>. By dividing the animations in movements, we’ll be able to reuse them in every cube. The animations will consist of moving the cube from its initial position to 30px or 50px away in one direction. We can use a transform translate (<code>X</code> or <code>Y</code> ) to achieve that. For example:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">@keyframes moveX {
  to { transform: translateX(-35px);  }
}</code></pre>



<p>But if we want to be able to reuse this animation, it’s better to replace the numeric value with a variable, like this:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">@keyframes moveX {
  to { transform: translateX(var(--translate, 35px)); }
}</code></pre>



<p>If the variable is not defined, the default value will be 35px.</p>



<p>Now we need at least one class to bind to the animation. In this case, though, we need two classes to move cubes in the x-axis: <code>.m-left</code> and <code>.m-right</code>.</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">.m-left, .m-right { 
  animation: 2s moveX alternate infinite; 
}</code></pre>



<p>For the cube to move left, we need a negative value, but we can also declare a different number. We can define our variable like this <em>inside</em> the <code>.m-left</code> class:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">.m-left { --translate: -50px; }</code></pre>



<p>What’s happening here is we’re declaring that, when we add the class <code>.m-left</code> to one element, this will play the animation <code>moveX</code> (the one defined in the <code>@keyframes</code>) which will last two seconds to translate in the x-axis and reach a new position that is -50px left. Then, the animation alternates directions so that it moves from the last position and take two more seconds to go to its original state. And so on, because it’s an infinite loop.</p>



<p>We can declare another variable to the <code>.m-right</code> class but if we don’t, remember that it will take the 35px we declared at the beginning.</p>



<p>The default <code>animation-play-state</code> value is running but maybe we don’t want the cubes to move all the time. It would be very distracting and annoying to use on a site with some nearby content. So, let’s try to play the animation only on hover by adding this:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">svg:hover .m-left {
  animation: 2s moveX alternate infinite;
}</code></pre>



<p>You can try it by yourself and will find that the animation is jumping super fast to the initial state every time we place the cursor out of the cube. To avoid it, we can add the value <code>paused</code> at the end of the animation shorthand:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">.m-left {
  animation: 2s moveX alternate infinite paused;
}</code></pre>



<p>Now the animation is paused but will be running on hover by adding this line of CSS:</p>



<pre rel="CSS" class="language-css" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">svg:hover * { 
  animation-play-state: running; 
}</code></pre>



<p>We can apply each class to different elements in the SVG. In the first blue cube, we are moving single cubes; in the second one, we’re applying those classes to groups of cubes.</p>



<h3>One last thing…</h3>



<p>It wasn’t until later that I realized I could reuse a single unit to build them all. I worked on the small cube to make it isometric enough so it could align easily with the other ones next to it. At this point, my unit was a <code>&lt;path&gt;</code>, but I decided to replace it with SVG shapes to reduce the code and get cleaner markup.</p>



<p>I learned that it is better to take some time to analyze what can be done with SVG before drawing every single shape and dealing with a huge amount of code. It might take more time at the beginning, but will save you a lot of time and effort in the long run.</p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/">Use and Reuse Everything in SVG… Even Animations!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/feed/</wfw:commentRss>
			<slash:comments>13</slash:comments>
		
		<enclosure url="https://css-tricks.com/wp-content/uploads/2020/01/cubes.mp4" length="299636" type="video/mp4" />

		<post-id xmlns="com-wordpress:feed-additions:1">302186</post-id>	</item>
		<item>
		<title>Going Beyond Automatic SVG Compression With the &#8220;use” Element</title>
		<link>https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/</link>
					<comments>https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/#comments</comments>
		
		<dc:creator><![CDATA[Mariana Beldi]]></dc:creator>
		<pubDate>Mon, 27 Jan 2020 16:17:30 +0000</pubDate>
				<category><![CDATA[Article]]></category>
		<category><![CDATA[compression]]></category>
		<category><![CDATA[SVG]]></category>
		<guid isPermaLink="false">https://css-tricks.com/?p=302169</guid>

					<description><![CDATA[<p>If you draw your own SVG files or if you download them from the internet, tools like this <a href="http://petercollingridge.appspot.com/svg-editor">SVG-Editor</a> or <a href="https://jakearchibald.github.io/svgomg/">SVGOMG</a> are your friends. Compressing the files with those tools takes only few seconds and reduces your file size a lot. But if you need to use your SVG inline to animate or interact with the code, there’s still a lot you can do about <em>code legibility</em>.</p>
<p>Reusing content with SVG’s <code>&#60;use&#62;</code> is not always an option, but when &#8230; <a href="https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/" class="read-more">Read article <span class="screen-reader-text"> &#8220;Going Beyond Automatic SVG Compression With the &#8220;use” Element&#8221;</span></a></p>
<p>The post <a rel="nofollow" href="https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/">Going Beyond Automatic SVG Compression With the &#8220;use” Element</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>If you draw your own SVG files or if you download them from the internet, tools like this <a href="http://petercollingridge.appspot.com/svg-editor">SVG-Editor</a> or <a href="https://jakearchibald.github.io/svgomg/">SVGOMG</a> are your friends. Compressing the files with those tools takes only few seconds and reduces your file size a lot. But if you need to use your SVG inline to animate or interact with the code, there’s still a lot you can do about <em>code legibility</em>.</p>



<p>Reusing content with SVG’s <code>&lt;use&gt;</code> is not always an option, but when it is, you won’t regret taking a few extra minutes to put it in practice.</p>



<span id="more-302169"></span>



<p>In this article, I’ll show an example where I was able to take a lot of advantage of this element — not only for keeping the file size down, but also a clearer markup that became more legible and easy to maintain.</p>



<p>This is the first design that I needed to work with. It was originally created in Illustrator:</p>



<figure class="wp-block-image size-full"><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/01/svg-compress-2.png?ssl=1" alt="" class="wp-image-302178" data-recalc-dims="1"/></figure>



<p>Take a look at the following code, this is the original file exported directly from the software, weighs <strong>2.05kb:</strong></p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_RwwmmLd" src="//codepen.io/anon/embed/RwwmmLd?height=650&amp;theme-id=1&amp;slug-hash=RwwmmLd&amp;default-tab=result" height="650" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed RwwmmLd" title="CodePen Embed RwwmmLd" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>It’s not a heavy file at all. However, open it and you’ll find there are lots of empty tags, deprecated namespaces, unnecessary white space, commas and extra information <a href="https://css-tricks.com/one-illustration-three-svg-outputs/">applied by the software</a>. This makes the code hard to work with, annoying to scan and creates a big scroll for those hundreds of lines in your document.</p>



<p>You’ll also notice that the file is indeed using <code>&lt;use&gt;</code> and <code>&lt;defs&gt;</code> elements, but not in the best way it could. And that’s not the software’s fault! Each astronaut illustration in the original file has a clipping mask: an invisible circle that acts like a window through which we can see our character. Without it, the suit of the astronaut would be flooding outside the circle. There are a few ways to avoid this in Illustrator, like cropping those extra parts with a pathfinder option. That way we would gain a few bytes and avoid using an extra circle only for clipping information of the graphic that we won’t show. <strong>The compression of the file starts in the software.</strong> Still, there are a lot of things we’ll be able to improve on the code in case we don’t want to edit the original file.</p>



<p class="explanation">Compressing the SVG with SVGOMG and keeping the default options won’t take any effort and you’ll get a file that weighs <strong>1.46kb</strong>. That is a reduction of 30% compared to the original size and the graphic will look exactly the same.</p>



<h3>Reusing content</h3>



<p>This will require going through the SVG and making some adjustments. I know this option takes more time regarding the previous example, but it’s not as hard as it seems.&nbsp;</p>



<p>We have one repeated element, which is the astronaut inside the circle. That’s the one we’ll compress on SVGOMG. The result will look something like this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 95.8 95.8">
&lt;style>.st3,.st4{fill:#ffcb2f;stroke:#12192c;stroke-width:1.4891;stroke-miterlimit:10}.st4{fill:#69b2b1}&lt;/style>
&lt;circle cx="47.9" cy="47.9" r="47.9" fill="#12192c"/>   
&lt;circle cx="47.9" cy="47.9" r="40.7" fill="#f6a2a4"/>   
&lt;defs>&lt;circle id="SVGID_1_" cx="47.9" cy="47.9" r="40.7"/>&lt;/defs>   
&lt;clipPath id="SVGID_2_">&lt;use xlink:href="#SVGID_1_" overflow="visible"/>&lt;/clipPath>
&lt;g clip-path="url(#SVGID_2_)">     
&lt;path class="st3" d="M63.9 45.6H32c-4 0-7.2 1.9-7.3 4.3l-.8 26.6H72l-.8-26.6c-.2-2.5-3.4-4.3-7.3-4.3z"/>     
&lt;path class="st4" d="M74.3 86.9L66 88.2C53.8 90 41.4 90 29.1 88.1l-7.7-1.2v-14c0-4 3.2-7.2 7.2-7.2h38.5c4 0 7.2 3.2 7.2 7.2v14z"/>     
&lt;path class="st3" d="M31.8 47.3h-.6c-.7 0-1.2-.6-1.2-1.2V23.2c0-.7.6-1.2 1.2-1.2h.6c.7 0 1.2.6 1.2 1.2v22.9c0 .7-.6 1.2-1.2 1.2z"/>     
&lt;circle class="st4" cx="31.5" cy="20.7" r="2.8"/>     
&lt;circle class="st4" cx="47.9" cy="51.4" r="20.3"/>     
&lt;path d="M64.5 53.1c0 8-7.4 11.2-16.5 11.2S31.4 61 31.4 53.1s7.4-14.4 16.5-14.4 16.6 6.4 16.6 14.4z" fill="#13192d" stroke="#12192c" stroke-width="1.489" stroke-miterlimit="10"/>     
&lt;path fill="none" stroke="#12192c" stroke-width="1.489" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="9.6793,3.7228" d="M65.9 88V76.9"/>     
&lt;path fill="none" stroke="#12192c" stroke-width="1.489" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M29.6 87.9v-11"/>   
&lt;/g> 
&lt;/svg></code></pre>



<p><strong>First recommendations:&nbsp;</strong></p>



<ol><li>Move the <code>&lt;style&gt;</code> content to the CSS file (assuming you can use your SVG inline and that you have a stylesheet linked in your document).</li><li>Rename the IDs with something that makes sense to you.&nbsp;</li><li>Round those complicated numbers, like <code>stroke-width="1.489"</code> to <code>stroke-width="1.5"</code>. This is something that could happen if you resize your vectors in Illustrator with the option of scaling borders checked.</li><li>Remove the <code>stroke-miterlimit="10"</code> as we don’t need it since our <code>stroke-linejoin</code> is round.</li><li>This code will be our astronaut template. We need to wrap everything in a group, add an ID to that group and place it inside a <code>&lt;defs&gt;</code> tag. Notice that we already have a <code>&lt;defs&gt;</code> element with a circle inside it. We can remove that one as it will be part of a bigger <code>&lt;defs&gt;</code> tag.</li></ol>



<p>Notice that the first two circles are filled shapes with different radius and color. We can keep the smaller one and add a stroke big enough to achieve the same effect — again, something that we could avoid using a circle with border in Illustrator in the first place.</p>



<p>Another important thing is that our current viewBox is too small for what we want to build. Let’s make it bigger and add some negative space on the X axis so we can start cloning our astronaut from the middle.&nbsp;</p>



<p class="explanation">To learn more about viewBox, check out <a href="https://wattenberger.com/guide/scaling-svg">this beautiful guide</a> to scaling SVG by Amelia Wattenberger.</p>



<p>We will end with something like this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-400 0 1000 5000">
 &lt;defs>
  &lt;g id="astronaut">
   &lt;circle cx="94.5" cy="48" r="44" fill="currentColor" stroke="#12192c" stroke-width="8"/>&lt;clipPath id="a">&lt;circle cx="94.5" cy="47.9" r="40"/>&lt;/clipPath>
   &lt;g clip-path="url(#a)">&lt;path class="st3" d="M110.5 45.6H78.6c-4 0-7.2 1.9-7.3 4.3l-.8 26.6h48.1l-.8-26.6c-.1-2.5-3.4-4.3-7.3-4.3z"/>&lt;path class="st4" d="M121 86.9l-8.3 1.3C100.4 90 88 90 75.8 88.1l-7.7-1.2v-14c0-4 3.2-7.2 7.2-7.2h38.5c4 0 7.2 3.2 7.2 7.2v14z"/>&lt;path class="st3" d="M78.4 47.3h-.6c-.7 0-1.2-.6-1.2-1.2V23.2c0-.7.6-1.2 1.2-1.2h.6c.7 0 1.2.6 1.2 1.2v22.9c0 .7-.5 1.2-1.2 1.2z"/>&lt;circle class="st4" cx="78.1" cy="20.7" r="2.8"/>&lt;circle class="st4" cx="94.5" cy="51.4" r="20.3"/>&lt;path d="M111.1 53.1c0 8-7.4 11.2-16.5 11.2S78 61 78 53.1s7.4-14.4 16.5-14.4 16.6 6.4 16.6 14.4z" fill="#13192d" />&lt;path fill="none" stroke="#12192c" stroke-width="1.5" stroke-linecap="round" d="M112.5 88V76.9"/>&lt;path fill="none" stroke="#12192c" stroke-width="1.5" stroke-linecap="round" d="M76.3 87.9v-11"/>&lt;/g>
  &lt;/g>
 &lt;/defs>
&lt;/svg></code></pre>



<p>What goes inside the <code>&lt;defs&gt;</code> won’t render anywhere. To start cloning our astronaut, we need to link its ID inside a <code>&lt;use&gt;</code> element like this:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;use xlink:href="#astronaut"/></code></pre>



<p class="explanation"><code>xlink:href</code> is deprecated since SVG2, but is better to use it for compatibility purposes. You can use href in modern browsers, but I tested it on Safari and it wasn’t working as of this writing. If you usexlink:href,make sure you include this namespace in your SVG tag: <code>xmlns:xlink="http://www.w3.org/1999/xlink</code> (you won’t need it if you decide to use <code>href</code>).</p>



<p>Now we can add the corresponding text to this first figure and align it with the transform attribute. We better place both elements inside a group so in the future instances we’ll be able to translate the whole group to the position we want:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;g transform="translate(-95 210)">
  &lt;use xlink:href="#astronaut"/>
  &lt;text transform="translate(25 130)">Tech Leader&lt;/text>
&lt;/g></code></pre>



<p>The connecting lines are simple shapes that can be drawn directly with <code>&lt;path&gt;</code>. Paths looks scary but, for rect lines, there is not much to worry about. I’ll explain this code:</p>



<pre rel="SVG" class="language-svg" data-line="" class="wp-block-csstricks-code-block"><code markup="tt">&lt;path class="line" d="M-4 200v-25h200"/></code></pre>



<p><code>d=""</code> is for data and that’s where we’ll place our commands. <code>M</code> is to move our hand to the place where we’ll start drawing (but it’s not drawing anything). <code>-4 200</code> means we place our pencil four units to the left and 200 to the bottom of our viewBox (following the orientation of the SVG coordinate system). <code>v</code> is the command to start drawing a vertical line that will go from this place to -25 units up. <code>h</code> is for horizontal, so we’re drawing a line from there to &nbsp;200 to the right. It feels like logo writer. </p>



<p>I separated the lines in three paths, but we can use just one with the <code>M</code> value after a series of commands to move our hand and start drawing from a new point in the coordinate system.</p>



<p>Take a look at the final document. Now the file weighs <strong>779 bytes </strong>and has <strong>12 lines</strong> of legible and scalable code:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_gOOJJVp" src="//codepen.io/anon/embed/gOOJJVp?height=450&amp;theme-id=1&amp;slug-hash=gOOJJVp&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed gOOJJVp" title="CodePen Embed gOOJJVp" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p class="explanation">If we declare any value in the attributes we defined in the <code>&lt;defs&gt;</code> then it won’t be possible to change it in their clones because of the nature of the <code>&lt;use&gt;</code> element. That’s why in the example above the fill of the main circle was replaced with a value of <code>currentColor</code> to have control of the backgrounds of all the replications. <code>currentColor</code> will inherit the CSS color value of the element (or any element above it). In the SVG, I’m adding a class to some replicated astronauts and adding a color value in CSS to those classes. This way, I’ll be able to change all instances of the <code>&lt;use&gt;</code> element with that class. To understand more about <code>&lt;use&gt;</code> and how to style its content, <a href="https://tympanus.net/codrops/2015/07/16/styling-svg-use-content-css/">this post</a> by <a href="https://www.sarasoueidan.com/">Sara Soueidan</a> has everything you need to know.</p>



<p>With this code ready, we’ll be able to scale the graphic to something like this much more easily:</p>



<figure class="wp-block-image size-large"><img src="https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/01/svg-compress-03.png?resize=1024%2C774&#038;ssl=1" alt="" class="wp-image-302179" data-recalc-dims="1"/><figcaption>SVG org chart (<a href="https://codepen.io/marianab/pen/abbrgag">Demo</a>)</figcaption></figure>



<p>Here are the three examples side by side to compare legibility and amount of code, we went from <strong>241</strong> to <strong>10</strong> neat lines:</p>



<figure class="wp-block-image size-full"><img src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2020/01/svg-compress-04-scaled.jpg?ssl=1" alt="" class="wp-image-302180" data-recalc-dims="1"/><figcaption>From left to right: Code direct from Illustrator, code after SVGOMG, code after optimization. </figcaption></figure>
<p>The post <a rel="nofollow" href="https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/">Going Beyond Automatic SVG Compression With the &#8220;use” Element</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://css-tricks.com/going-beyond-automatic-svg-compression-with-the-use-element/feed/</wfw:commentRss>
			<slash:comments>6</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">302169</post-id>	</item>
	</channel>
</rss>
